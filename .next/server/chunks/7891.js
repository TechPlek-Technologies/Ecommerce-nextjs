"use strict";exports.id=7891,exports.ids=[7891,7412,9020,850],exports.modules={61368:(e,a,s)=>{s.a(e,async(e,l)=>{try{s.r(a),s.d(a,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=s(20997),t=s(16689),c=s(42820),i=s(3590),d=s(15941),n=s(2022),o=s(94504),m=s(49460),h=s(76606),p=s(18214),u=s(58165),x=s(57987),j=e([i,d,o,x]);[i,d,o,x]=j.then?(await j)():j;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{data:e,error:a}=(0,d.default)("/api/product/create",n.gN),s=(0,t.useRef)(),l=(0,t.useRef)(""),j=(0,t.useRef)(""),[b,N]=(0,t.useState)(""),[v,g]=(0,t.useState)([]),[f,y]=(0,t.useState)([]),[S,w]=(0,t.useState)(""),[C,F]=(0,t.useState)(""),[I,_]=(0,t.useState)(""),[q,P]=(0,t.useState)([]),[k,W]=(0,t.useState)(""),[V,T]=(0,t.useState)(""),[A,E]=(0,t.useState)([]),[O,D]=(0,t.useState)([]),[J,B]=(0,t.useState)([]),[M,R]=(0,t.useState)([]),[U,z]=(0,t.useState)([]),[H,$]=(0,t.useState)(""),[K,L]=(0,t.useState)(""),[Q,X]=(0,t.useState)(""),{t:G}=(0,x.useTranslation)();(0,t.useEffect)(()=>{let e=[];return q.length&&A.length?q.map(a=>{A.map(s=>{let l={color:a.label,attr:s.label,price:"",sku:"",qty:"",imageIndex:0};e.push(l)})}):q.length&&!A.length?q.map(a=>{let s={color:a.label,attr:null,price:"",sku:"",qty:"",imageIndex:0};e.push(s)}):!q.length&&A.length&&A.map(a=>{let s={color:null,attr:a.label,price:"",sku:"",qty:"",imageIndex:0};e.push(s)}),z(e),()=>{z([])}},[q,A]);let changeAttr=e=>{W(e),E([])},handleInputChange=(e,a)=>{let{name:s,value:l}=e.target,r=[...U];r[a][s]=l,z(r)},getEditorStateData=e=>{let a=e.replace(/(<([^>]+)>)/gi,"").length?e:"";return a},formHandler=async e=>{if(e.preventDefault(),0===O.length||0===J.length)return i.toast.warn("Please fill in all the required fields!");X("loading");let a=document.querySelector("#product_form"),s=new FormData(a),r=JSON.stringify(O),t=JSON.stringify(J),c={title:l.current.value.trim(),description:j.current.value.trim(),image:M};s.append("displayImage",r),s.append("galleryImages",t),s.append("type",b),s.append("category",JSON.stringify([S])),s.append("subcategory",JSON.stringify([C])),s.append("childCategory",JSON.stringify([I])),s.append("brand",V),s.append("color",JSON.stringify(q)),s.append("attribute",JSON.stringify(A)),s.append("selectedAttribute",k),s.append("variant",JSON.stringify(U)),s.append("seo",JSON.stringify(c)),s.append("description",getEditorStateData(K)),await (0,n.qC)("/api/product/create",s).then(e=>{e.success?(i.toast.success("Product Added Successfully"),a.reset(),w(""),F([]),_([]),z([]),N(""),P([]),W([]),$("reset"),L("")):i.toast.error("Something Went Wrong")}).catch(e=>{console.log(e),i.toast.error("Something Went Wrong")}),X("")};if(a)return r.jsx("div",{children:"failed to load"});if(!e)return r.jsx(p.default,{});if(!e.success)return r.jsx("div",{children:"Something Went Wrong..."});let Z=[];return e.color.map(e=>Z.push({label:e.name,value:e.value})),(0,r.jsxs)(r.Fragment,{children:[r.jsx("h4",{className:"text-center pt-3 pb-5",children:G("Create New Product")}),(0,r.jsxs)("form",{id:"product_form",encType:"multipart/form-data",onSubmit:formHandler,children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-lg-8",children:[(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("Product Type")}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"row",children:[r.jsx("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{htmlFor:"inp-110",className:"form-label",children:G("new_product")}),(0,r.jsxs)("div",{className:"form-check form-switch",children:[r.jsx("input",{className:"form-check-input",type:"checkbox",id:"inp-110",name:"new_product"}),r.jsx("label",{className:"form-check-label",htmlFor:"inp-110",children:G("Status")})]})]})}),r.jsx("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{htmlFor:"inp-11",className:"form-label",children:G("trending_product")}),(0,r.jsxs)("div",{className:"form-check form-switch",children:[r.jsx("input",{className:"form-check-input",type:"checkbox",id:"inp-11",name:"trending"}),r.jsx("label",{className:"form-check-label",htmlFor:"inp-11",children:G("Status")})]})]})}),r.jsx("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{htmlFor:"inp-111",className:"form-label",children:G("best_selling_product")}),(0,r.jsxs)("div",{className:"form-check form-switch",children:[r.jsx("input",{className:"form-check-input",type:"checkbox",id:"inp-111",name:"best_selling"}),r.jsx("label",{className:"form-check-label",htmlFor:"inp-111",children:G("Status")})]})]})})]}),r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-type",className:"form-label",children:[G("Product Type"),"*"]}),(0,r.jsxs)("select",{id:"inp-type",ref:s,className:"form-control",required:!0,onChange:()=>N(s.current.value),defaultValue:"",children:[r.jsx("option",{value:"",disabled:!0,children:G("Select Product Type")}),r.jsx("option",{value:"simple",children:"Simple Product"}),r.jsx("option",{value:"variable",children:"Variable Product"})]})]})})]})]}),(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("Product Image")}),(0,r.jsxs)("div",{className:"card-body",children:[r.jsx(o.default,{accept:".jpg,.png,.jpeg",label:G("Display Image"),maxFileSizeInBytes:2e6,updateFilesCb:e=>D(e),resetCb:H}),r.jsx(o.default,{accept:".jpg,.png,.jpeg",label:G("Gallery Images"),multiple:!0,maxFileSizeInBytes:2e6,updateFilesCb:e=>B(e),resetCb:H})]})]}),(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("Product Information")}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-1",className:"form-label",children:[G("name"),"*"]}),r.jsx("input",{type:"text",id:"inp-1",className:"form-control",name:"name",required:!0})]}),(0,r.jsxs)("div",{className:"row",children:[r.jsx("div",{className:"col-12 col-sm-6",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-2",className:"form-label",children:[G("Unit"),"*"]}),r.jsx("input",{type:"text",id:"inp-2",className:"form-control",name:"unit",required:!0})]})}),r.jsx("div",{className:"col-12 col-sm-6",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-3",className:"form-label",children:[G("Unit Value"),"*"]}),r.jsx("input",{type:"text",id:"inp-3",className:"form-control",name:"unit_val",required:!0})]})})]})]})]}),(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("Product Description")}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-7",className:"form-label",children:[G("Short Description"),"*"]}),r.jsx("textarea",{id:"inp-7",className:"form-control",name:"short_description"})]}),(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{className:"form-label",children:G("description")}),r.jsx(m.default,{previousValue:K,updatedValue:e=>{L(e)},height:300})]})]})]}),(0,r.jsxs)("div",{children:["simple"===b&&(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("Product Information")}),r.jsx("div",{className:"card-body",children:(0,r.jsxs)("div",{className:"row",children:[r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-6",className:"form-label",children:[G("Item Quantity"),"*(",G("Set -1 to make it unlimited"),")"]}),r.jsx("input",{type:"number",min:"-1",id:"inp-6",className:"form-control",name:"qty",defaultValue:1,required:!0,onWheel:e=>e.target.blur()})]})}),r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[G("sku"),"*"]}),r.jsx("input",{type:"text",className:"form-control",name:"sku",required:!0})]})})]})})]}),"variable"===b&&(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow-sm",children:[r.jsx("div",{className:"card-header bg-white py-3",children:G("Product Variation")}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"row py-3",children:[r.jsx("label",{className:"form-label",children:G("Colors")}),r.jsx(c.MultiSelect,{options:Z,onChange:e=>{P(e)},value:q,labelledBy:"Select Color"})]}),(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{className:"form-label",children:G("Attributes")}),(0,r.jsxs)("select",{className:"form-control",defaultValue:"",onChange:e=>changeAttr(e.target.value),children:[r.jsx("option",{value:"",disabled:!0,children:G("Select Attribute")}),e.attribute.map((e,a)=>r.jsx("option",{value:a,children:e.name},a))]})]}),k.length>0&&(0,r.jsxs)("div",{className:"row py-3",children:[r.jsx("label",{className:"form-label",children:e.attribute[k].name}),r.jsx(c.MultiSelect,{options:(a=>{let s=[];return e.attribute[a].values.map(l=>s.push({label:l.name,value:l.name,for:e.attribute[a].name})),s})(k),onChange:e=>{E(e)},value:A,labelledBy:"Select Item"})]}),U.length>0&&U.map((e,a)=>(0,r.jsxs)("div",{children:[r.jsx("hr",{}),(0,r.jsxs)("h6",{children:[G("Variant"),":"," ",`${e.color?e.color:""} ${e.color&&e.attr?"+":""} ${e.attr?e.attr:""}`]}),(0,r.jsxs)("div",{className:"row",children:[r.jsx("div",{className:"col-12 col-md-3",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[G("Additional Price"),"*"]}),r.jsx("input",{type:"number",min:"0",step:"0.01",className:"form-control",name:"price",required:!0,value:e.price||"",onChange:e=>handleInputChange(e,a),onWheel:e=>e.target.blur()}),r.jsx("div",{className:"small text-primary",children:G("Set 0 to make it free")})]})}),r.jsx("div",{className:"col-12 col-md-3",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[G("sku"),"*"]}),r.jsx("input",{type:"text",className:"form-control",name:"sku",required:!0,value:e.sku||"",onChange:e=>handleInputChange(e,a)})]})}),r.jsx("div",{className:"col-12 col-md-3",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[G("Item Quantity"),"*"]}),r.jsx("input",{type:"number",min:"-1",className:"form-control",name:"qty",required:!0,value:e.qty||"",onChange:e=>handleInputChange(e,a),onWheel:e=>e.target.blur()}),r.jsx("div",{className:"small text-primary",children:G("Set -1 to make it unlimited")})]})}),r.jsx("div",{className:"col-12 col-md-3",children:r.jsx("div",{className:"py-3",children:r.jsx(u.Z,{list:J||[],dataChange:handleInputChange,rootIndex:a})})})]})]},a))]})]})]}),(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("SEO Meta Tags")}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{htmlFor:"inp-122",className:"form-label",children:G("Meta Title")}),r.jsx("input",{type:"text",ref:l,id:"inp-122",className:"form-control"})]}),(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{htmlFor:"inp-222",className:"form-label",children:G("Meta Description")}),r.jsx("textarea",{ref:j,id:"inp-222",className:"form-control"})]}),r.jsx(o.default,{accept:".jpg,.png,.jpeg",label:G("Meta Image"),maxFileSizeInBytes:2e6,updateFilesCb:R,resetCb:H})]})]})]}),(0,r.jsxs)("div",{className:"col-lg-4",children:[(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("Price Information")}),(0,r.jsxs)("div",{className:"card-body",children:[r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-4",className:"form-label",children:[G("price"),"*"]}),r.jsx("input",{type:"number",step:"0.01",id:"inp-4",className:"form-control",name:"main_price",required:!0,onWheel:e=>e.target.blur()})]})}),r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-5",className:"form-label",children:[G("Discount in Percentage"),"*"]}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",id:"inp-5",placeholder:"0%",className:"form-control",name:"sale_price",required:!0,onWheel:e=>e.target.blur()})]})})]})]}),(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("Product Category")}),(0,r.jsxs)("div",{className:"card-body",children:[r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[G("categories"),"*"]}),(0,r.jsxs)("select",{className:"form-select",onChange:function(a){w(a.target.value),F(""),_("");let s=e.category.find(e=>e.slug===a.target.value);if(s){let e=[],a=[];s.subCategories.forEach(s=>{e.push({name:s.name,slug:s.slug}),s.child?.forEach(e=>{a.push({name:e.name,slug:e.slug})})}),g(e),y(a)}},defaultValue:"",required:!0,children:[r.jsx("option",{value:"",children:"Select Category"}),e?.category?.map((e,a)=>r.jsx("option",{value:e.slug,children:e.name},a))]})]})}),r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[G("Subcategories"),"*"]}),(0,r.jsxs)("select",{className:"form-select",onChange:e=>F(e.target.value),defaultValue:"",required:!0,children:[r.jsx("option",{value:"",children:"Select Sub Category"}),v.map((e,a)=>r.jsx("option",{value:e.slug,children:e.name},a))]})]})}),r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{className:"form-label",children:G("Child Categories")}),(0,r.jsxs)("select",{className:"form-select",onChange:e=>_(e.target.value),defaultValue:"",children:[r.jsx("option",{value:"",children:"Select Child Category"}),f.map((e,a)=>r.jsx("option",{value:e.slug,children:e.name},a))]})]})}),(0,r.jsxs)("div",{className:"py-3",children:[r.jsx("label",{className:"form-label",children:G("Brands")}),(0,r.jsxs)("select",{className:"form-control",onChange:function(e){T(e.target.value)},children:[r.jsx("option",{value:"",children:"None"}),e.brand&&e.brand.map(e=>r.jsx("option",{value:e.slug,children:e.name},e._id))]})]})]})]}),(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[r.jsx("div",{className:"card-header bg-white py-3 fw-bold",children:G("Vat & Tax Information")}),(0,r.jsxs)("div",{className:"card-body",children:[r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-47",className:"form-label",children:[G("Vat in Percentage"),"*"]}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",id:"inp-47",className:"form-control",name:"vat",placeholder:"0%",required:!0,onWheel:e=>e.target.blur()})]})}),r.jsx("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsxs)("label",{htmlFor:"inp-48",className:"form-label",children:[G("Tax in Percentage"),"*"]}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",id:"inp-48",placeholder:"0%",className:"form-control",name:"tax",required:!0,onWheel:e=>e.target.blur()})]})})]})]})]})]}),r.jsx("div",{className:"my-4",children:r.jsx(h.default,{type:"submit",text:G("Add Product"),state:Q})})]})]})};l()}catch(e){l(e)}})},41988:(e,a,s)=>{e.exports=s(87093).vendored.contexts.HeadManagerContext},5469:(e,a,s)=>{e.exports=s(87093).vendored.contexts.RouterContext}};