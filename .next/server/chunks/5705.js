exports.id=5705,exports.ids=[5705],exports.modules={15705:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(20997);a(3681);var l=a(5152),c=a.n(l),n=a(16689),i=a(73967),o=a.n(i);a(27769);var d=a(6022);a(83559);var u=a(3590),p=a(15941),m=a(59010),h=a(2022);a(58210);var x=a(18214),v=a(10237),g=a.n(v),j=a(57987),b=a(98805),N=e([u,p,j,b]);[u,p,j,b]=N.then?(await N)():N;let _=c()(()=>Promise.resolve().then(a.t.bind(a,74508,23)).then(e=>e.Carousel),{loadableGenerated:{modules:["..\\components\\Shop\\Product\\productDetails.js -> react-responsive-carousel"]}}),__WEBPACK_DEFAULT_EXPORT__=e=>{let t=`/api/product/${e.productSlug}`,{data:a,error:r}=(0,p.default)(t,h.gN),[l,c]=(0,n.useState)({name:null,value:null}),[i,u]=(0,n.useState)({name:null,value:null,for:null}),[v,N]=(0,n.useState)(0),[f,y]=(0,n.useState)(0),w=(0,d.useDispatch)(),P=(0,n.useRef)(),S=(0,d.useSelector)(e=>e.cart),C=(0,d.useSelector)(e=>e.settings),{t:T}=(0,j.useTranslation)();if((0,n.useEffect)(()=>{a&&a.product&&(N(a.product.discount),"variable"===a.product.type&&(a.product.colors&&a.product.colors.length>0&&c({name:a.product.colors[0]?.label,value:a.product.colors[0]?.value}),a.product.attributes&&a.product.attributes.length>0&&u({name:a.product.attributes[0]?.label,value:a.product.attributes[0]?.value,for:a.product.attributes[0]?.for})))},[a]),(0,n.useEffect)(()=>{if(a&&a.product){let e=a.product.colors?.length||0,t=a.product.attributes?.length||0;e>0&&t>0&&updatePrice(l.name,i.name),e>0&&0===t&&updatePrice(l.name,null),0===e&&t>0&&updatePrice(null,i.name)}},[l,i]),r)return s.jsx("div",{className:"text-danger",children:"failed to load"});if(!a)return s.jsx(x.default,{});if(!a.product)return s.jsx("div",{children:"Something Went Wrong..."});let selectPreviewImage=e=>{e.imageIndex&&e.imageIndex>0&&y(e.imageIndex-1)},checkVariantInfo=(e,t)=>{let r=e||l.name,s=t||i.name;return a.product.variants.find(e=>e.color===r&&e.attr===s)},updatePrice=(e,t)=>{let r=checkVariantInfo(e,t);if(r&&r.price){let e=a.product.discount+Number(r.price);N(e),selectPreviewImage(r)}},changeColor=e=>{try{let t={name:e.label,value:e.value};c(t),updatePrice(t.name,null)}catch(e){console.log(e)}},changeVariant=e=>{try{let t={name:e.label,value:e.value,for:e.for};u(t),updatePrice(null,t.name)}catch(e){console.log(e)}},I=(0,b.l)(a,S,v,w),k=(0,b.k)(a,l,i,S,checkVariantInfo,(e,t,a)=>{let r=Number(a);return -1===r||e+t<=r},v,w),addItemToCart=()=>{let e=Number(P.current.value);"simple"===a.product.type?I(e):k(e)};return s.jsx("div",{className:g().container,children:(0,s.jsxs)("div",{className:"row",children:[s.jsx("div",{className:"col-lg-6 p-0",children:s.jsx("div",{className:g().slider,children:s.jsx("div",{className:g().image_container_main,children:s.jsx(_,{showArrows:!1,showThumbs:!0,showIndicators:!1,renderThumbs:()=>{let e=a.product.gallery.map((e,t)=>s.jsx(m.default,{src:e.url,alt:a.product.name,width:67,height:67,style:{width:"100%",height:"auto"}},e.name+t));return e},showStatus:!1,emulateTouch:!0,preventMovementUntilSwipeScrollTolerance:!0,swipeScrollTolerance:50,selectedItem:f,children:a.product.gallery.map((e,t)=>s.jsx(o(),{src:e.url,className:g().magnifier_container,fullscreenOnMobile:!0},e.name+t))})})})}),s.jsx("div",{className:"col-lg-6 p-0",children:(0,s.jsxs)("div",{className:g().details,children:[(0,s.jsxs)("p",{className:g().unit,children:[a.product.unitValue," ",a.product.unit]}),s.jsx("h1",{className:g().heading,children:a.product.name}),s.jsx("hr",{}),(0,s.jsxs)("div",{children:[a.product.discount<a.product.price&&(0,s.jsxs)("p",{className:g().price_ori,children:[C.settingsData.currency.symbol,a.product.price]}),(0,s.jsxs)("p",{className:g().price,children:[C.settingsData.currency.symbol,v]})]}),s.jsx("p",{className:g().description,children:a.product.shortDescription}),"variable"===a.product.type&&(0,s.jsxs)("div",{children:[a.product.colors.length>0&&(0,s.jsxs)("div",{className:g().color_selector,children:[s.jsx("p",{className:g().section_heading,style:{marginBottom:"11px"},children:T("color")}),s.jsx("div",{className:g().color_selector_container,children:a.product.colors.map((e,t)=>s.jsx("div",{className:g().circle_outer,onClick:()=>changeColor(e),title:e.name,children:s.jsx("label",{"data-selected":e.value===l.value,style:{backgroundColor:e.value}})},t))})]}),a.product.attributes.length>0&&(0,s.jsxs)("div",{children:[s.jsx("p",{className:g().section_heading,children:a.product.attributes[0]?.for}),s.jsx("div",{className:g().select,children:a.product.attributes.map((e,t)=>s.jsx("span",{className:g().attr,onClick:()=>changeVariant(e),"data-selected":e.label===i.name,children:e.label},t))})]})]}),(0,s.jsxs)("div",{className:g().category,children:[s.jsx("p",{className:g().section_heading,children:T("categories")}),a.product.categories.map((e,t)=>s.jsx("span",{className:g().category_list,children:e},t))]}),(0,s.jsxs)("div",{className:g().cart_section,children:[s.jsx("p",{className:g().section_heading,children:"QTY"}),(0,s.jsxs)("div",{className:g().number_input,children:[s.jsx("button",{onClick:()=>{P.current.stepDown()},className:g().minus}),s.jsx("input",{className:g().quantity,ref:P,min:"1",max:-1===a.product.quantity?1e5:a.product.quantity,defaultValue:"1",type:"number",disabled:!0}),s.jsx("button",{onClick:()=>{P.current.stepUp()},className:g().plus})]}),s.jsx("div",{className:g().button_container,children:(0,h.XS)(a.product)?s.jsx("button",{className:g().cart_button,onClick:()=>addItemToCart(),children:T("add_to_cart")}):s.jsx("button",{className:g().cart_button,disabled:!0,children:T("out_of_stock")})})]})]})})]})})};r()}catch(e){r(e)}})},27769:()=>{},83559:()=>{}};