exports.id=3061,exports.ids=[3061,8214,7290],exports.modules={4859:e=>{e.exports={container:"spinner_container__Ce8dH",spinner:"spinner_spinner__eipLJ",spin:"spinner_spin__LDwbh"}},23061:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var i=t(20997),l=t(60652),a=t(11163),o=t(16689),n=t(6022),u=t(3590),c=t(15941),d=t(2022),_=t(58210),h=t(3347),p=t(18214),m=t(31116),f=t(15705),x=e([u,c,m,f]);[u,c,m,f]=x.then?(await x)():x;let __WEBPACK_DEFAULT_EXPORT__=e=>{let s=`/api/profile?id=${e.id}&scope=favorite`,{data:t,error:r,mutate:x}=(0,c.default)(e.id?s:null,d.gN),[g,E]=(0,o.useState)([]),[j,v]=(0,o.useState)(!1),{wishlist:w}=(0,n.useSelector)(e=>e.cart),{session:y}=(0,n.useSelector)(e=>e.localSession),A=(0,a.useRouter)(),P=(0,n.useDispatch)();(0,o.useEffect)(()=>{t&&t.user&&E(t.user.favorite)},[t]),(0,o.useEffect)(()=>{A.query.slug&&v(!0)},[A.query.slug]);let removeFromWishlist=async e=>{try{let s={pid:e,id:y.user.id},t=await (0,d.SR)("/api/wishlist",s);t.success?(u.toast.success("Item has been removed from your wishlist"),x(),function(){let e=w&&w>0?w-1:0;P((0,_.jV)(e))}()):u.toast.error("Something went wrong (500)")}catch(e){u.toast.error(e.message)}};return(0,i.jsxs)(i.Fragment,{children:[r?i.jsx("div",{className:"text-center text-danger",children:"failed to load"}):t?(0,i.jsxs)("div",{className:"row",children:[0===g.length&&i.jsx("p",{className:"text-center p-3",children:"You have no items on your wishlist"}),g.map((e,s)=>i.jsx(m.default,{product:e,layout:"col-lg-4 col-md-6 col-sm-6 col-12",link:`/profile?slug=${e.slug}&tab=1`,button:!0,deleteButton:i.jsx("button",{onClick:()=>removeFromWishlist(e._id),children:i.jsx(l.mV,{width:15,height:15})}),border:!0},e._id+s))]}):i.jsx(p.default,{}),i.jsx(h.default,{small:!1,isOpen:j,handleCloseModal:()=>{A.push("/profile",void 0,{shallow:!0}),v(!1)},children:A.query.slug&&i.jsx(f.default,{productSlug:A.query.slug})})]})};r()}catch(e){r(e)}})},18214:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(20997),i=t(4859),l=t.n(i);let __WEBPACK_DEFAULT_EXPORT__=({color:e})=>r.jsx("div",{className:l().container,children:r.jsx("div",{className:l().spinner})})}};