exports.id=4864,exports.ids=[4864],exports.modules={51033:e=>{e.exports={card:"cartView_card__L1_JR",empty:"cartView_empty__dD87I",item:"cartView_item__FzdEM",image:"cartView_image__joRMK",content:"cartView_content__YJO8B",total:"cartView_total__i5XU8",btn_container:"cartView_btn_container__0P_Li"}},84864:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>CartView});var i=s(20997),n=s(68162),r=s(30634),c=s(15625),l=s(41664),d=s.n(l),o=s(11163),h=s(16689),m=s(6022),u=s(19048),x=s(58210),_=s(51033),j=s.n(_),p=s(57987),w=s(5152),g=s.n(w),y=s(2022),b=e([p]);p=(b.then?(await b)():b)[0];let v=g()(()=>Promise.resolve().then(s.bind(s,59010)),{loadableGenerated:{modules:["..\\components\\Layout\\Client\\cartView.js -> ~/components/Image"]}});function CartView(){let[e,t]=(0,h.useState)(!1),s=(0,m.useSelector)(e=>e.cart),[a,l]=(0,h.useState)(s),_=(0,m.useSelector)(e=>e.settings),w=(0,m.useDispatch)(),{t:g}=(0,p.useTranslation)(),b=(0,o.useRouter)();(0,h.useEffect)(()=>{l(s)},[s]);let decimalBalance=e=>Math.round(10*e)/10;return(0,h.useEffect)(()=>{b.events.on("routeChangeStart",()=>{t(!1)})},[]),(0,i.jsxs)("div",{onClick:()=>t(!0),children:[i.jsx(n.AP,{width:24,height:24}),i.jsx("span",{children:(()=>{let e=a.items.reduce((e,t)=>e+t.qty,0);return decimalBalance(e)})()}),i.jsx("p",{children:g("cart")}),i.jsx(u.Z,{show:e,onClickOutside:()=>t(!e),children:i.jsx("div",{className:j().card,children:a.items&&0===a.items.length?(0,i.jsxs)("div",{className:j().empty,children:[i.jsx(r.h2,{width:30,height:30}),i.jsx("span",{children:"Your Cart is empty"})]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("ul",{children:a.items.map((e,t)=>(0,i.jsxs)("li",{className:j().item,children:[i.jsx("div",{className:j().image,children:i.jsx(v,{src:e.image[0]?.url,height:90,width:90,alt:e.name})}),(0,i.jsxs)("div",{className:j().content,children:[(0,i.jsxs)("p",{children:[e.name," "]}),i.jsx("b",{children:`${_.settingsData.currency.symbol+e.price} (X${e.qty})`}),e.color.name&&(0,i.jsxs)("span",{children:["Color: ",e.color.name]}),e.attribute.name&&i.jsx("span",{children:`${e.attribute.for}: ${e.attribute.name}`})]}),i.jsx("button",{onClick:()=>w((0,x.h2)(e.uid)),children:i.jsx(c.rF,{width:20,height:20})})]},t))}),(0,i.jsxs)("div",{className:j().total,children:[i.jsx("span",{children:g("total_incl_vat_tax")}),(0,i.jsxs)("span",{children:[_.settingsData.currency.symbol,(()=>{let e=a.items.reduce((e,t)=>{let s=t.qty*t.price;return e+s+(0,y.dA)(s,t.tax)+(0,y.dA)(s,t.vat)},0);return decimalBalance(e)})()]})]}),(0,i.jsxs)("div",{className:j().btn_container,children:[i.jsx(d(),{href:"/cart",children:g("view_cart")}),i.jsx("button",{onClick:function(){b.push("/checkout")},children:g("checkout")})]})]})})})]})}a()}catch(e){a(e)}})}};