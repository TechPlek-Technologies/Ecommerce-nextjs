(()=>{var e={};e.id=214,e.ids=[214,660],e.modules={18985:e=>{e.exports={gallery_container:"gallery_gallery_container__S_vOQ"}},89491:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>p,getServerSideProps:()=>m,getStaticPaths:()=>x,getStaticProps:()=>g,reportWebVitals:()=>y,routeModule:()=>j,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>q,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>S});var a=r(87093),i=r(35244),o=r(1323),l=r(79209),n=r.n(l),u=r(39597),c=r(36581),d=e([u,c]);[u,c]=d.then?(await d)():d;let p=(0,o.l)(c,"default"),g=(0,o.l)(c,"getStaticProps"),x=(0,o.l)(c,"getStaticPaths"),m=(0,o.l)(c,"getServerSideProps"),h=(0,o.l)(c,"config"),y=(0,o.l)(c,"reportWebVitals"),S=(0,o.l)(c,"unstable_getStaticProps"),b=(0,o.l)(c,"unstable_getStaticPaths"),q=(0,o.l)(c,"unstable_getStaticParams"),P=(0,o.l)(c,"unstable_getServerProps"),_=(0,o.l)(c,"unstable_getServerSideProps"),j=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/gallery",pathname:"/gallery",bundlePath:"",filename:""},components:{App:u.default,Document:n()},userland:c});s()}catch(e){s(e)}})},36581:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>f,getServerSideProps:()=>v});var a=r(20997),i=r(5152),o=r.n(i),l=r(11163),n=r(16689),u=r(57987),c=r(3590),d=r(72952),p=r(75885),g=r(2022),x=r(23980),m=r(23884),h=r(18985),y=r.n(h),S=e([u,c]);[u,c]=S.then?(await S)():S;let b=o()(()=>Promise.all([r.e(2189),r.e(3896),r.e(3347)]).then(r.bind(r,3347)),{loadableGenerated:{modules:["gallery\\index.js -> ~/components/Ui/Modal/modal"]}}),q=o()(()=>r.e(8214).then(r.bind(r,18214)),{loadableGenerated:{modules:["gallery\\index.js -> ~/components/Ui/Spinner"]}}),P=o()(()=>Promise.all([r.e(2189),r.e(9201),r.e(5675),r.e(3896),r.e(2572),r.e(9010),r.e(7504)]).then(r.bind(r,97504)),{loadableGenerated:{modules:["gallery\\index.js -> ~/components/Shop/Sidebar/sidebarList"]}}),_=o()(()=>Promise.all([r.e(2189),r.e(9201),r.e(5675),r.e(140),r.e(4400),r.e(9010),r.e(9224),r.e(3032)]).then(r.bind(r,93032)),{loadableGenerated:{modules:["gallery\\index.js -> ~/components/Shop/Product/productList"]}}),j=o()(()=>Promise.all([r.e(9201),r.e(5675),r.e(9010),r.e(8805),r.e(237),r.e(5705),r.e(7290)]).then(r.bind(r,15705)),{loadableGenerated:{modules:["gallery\\index.js -> ~/components/Shop/Product/productDetails"]}});function GalleryPage({data:e,error:t}){let r=(0,l.useRouter)(),s=e.product||[],[i,o]=(0,n.useState)(s),[x,m]=(0,n.useState)(s),[h,S]=(0,n.useState)(!1),[f,v]=(0,n.useState)(e.product_length||0),[w,$]=(0,n.useState)(!1),[G,C]=(0,n.useState)("db"),[N,R]=(0,n.useState)(""),[k,D]=(0,n.useState)(""),[E,H]=(0,n.useState)(""),[M,F]=(0,n.useState)([]),[O,z]=(0,n.useState)({min:e.priceRange?.min||0,max:e.priceRange?.max||1}),A=(0,n.useRef)(!0),{t:J}=(0,u.useTranslation)();async function updateFilteredProduct(){try{S(!0);let e="&";M.forEach(t=>{e+=`brands=${t}&`});let t=`category=${N.length>0?N:""}`,r=`&subcategory=${k.length>0?k:""}`,s=`&childcategory=${E.length>0?E:""}`,a=`&price_min=${O.min}&price_max=${O.max}`,i=`${t}${r}${s}${e}${a}`,l=await (0,g.gN)(`/api/gallery?${i}`);o(l.product),v(l.product_length)}catch(e){console.log(e)}S(!1)}function sortDataHandler(e){S(!0);let t=(0,g.l8)(i,e),r=t||i;m([...r]),S(!1)}console.log("data",e),(0,n.useEffect)(()=>{A.current?A.current=!1:updateFilteredProduct()},[N,k,E,M,O]),(0,n.useEffect)(()=>{r.query.slug&&$(!0)},[r.query.slug]);let moreProduct=async()=>{await (0,g.gN)(`/api/gallery/more-product?product_length=${i.length}`).then(e=>{o([...i,...e])}).catch(e=>{console.error(e),c.toast.error(`Something went wrong...(${e.message})`)})};return(0,n.useEffect)(()=>{sortDataHandler(G)},[i]),(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.default,{}),a.jsx("div",{style:{height:"100vh"},children:t?a.jsx(p.default,{}):e?(0,a.jsxs)("div",{className:"row",children:[a.jsx(P,{category:e.category,brand:e.brand,sort:e=>{C(e),sortDataHandler(e)},updateCategory:R,updateSubCategory:D,updateChildCategory:H,updateBrand:F,updatePriceRange:z,priceRange:e.priceRange}),a.jsx("div",{className:y().gallery_container,children:h||0!==x.length?h?a.jsx("div",{style:{height:"80vh"},children:a.jsx(q,{})}):a.jsx(_,{items:x,data_length:f,loadMore:moreProduct}):a.jsx("div",{className:"m-5 p-5",children:a.jsx("p",{className:"text-center",children:J("no_product_found")})})})]}):a.jsx(q,{})}),a.jsx(b,{small:!1,isOpen:w,handleCloseModal:()=>{r.push("/gallery",void 0,{shallow:!0}),$(!1)},children:r.query.slug&&a.jsx(j,{productSlug:r.query.slug})})]})}GalleryPage.footer=!1;let f=GalleryPage,v=m.Y.getServerSideProps(e=>async({req:t,res:r,query:s})=>{r&&r.setHeader("Cache-Control","public, s-maxage=10800, stale-while-revalidate=59");let{category:a,brand:i}=s,o=null,l=null;(a&&a.length>0||i&&i.length>0)&&(o=!0,l=!0);let n=await (0,x.Z)(o,l),u=JSON.parse(JSON.stringify(n));return u.success&&(0,g.aw)(e,u),{props:{data:u,error:!u.success}}});s()}catch(e){s(e)}})},75184:e=>{"use strict";e.exports=require("@reduxjs/toolkit")},22201:e=>{"use strict";e.exports=require("@styled-icons/bootstrap/Filter")},22646:e=>{"use strict";e.exports=require("@styled-icons/bootstrap/House")},65429:e=>{"use strict";e.exports=require("@styled-icons/styled-icon")},75666:e=>{"use strict";e.exports=require("crypto-js")},22837:e=>{"use strict";e.exports=require("crypto-js/aes")},3681:e=>{"use strict";e.exports=require("custom-id-new")},62733:e=>{"use strict";e.exports=require("fuse.js")},11185:e=>{"use strict";e.exports=require("mongoose")},41649:e=>{"use strict";e.exports=require("next-auth/react")},35648:e=>{"use strict";e.exports=require("next-redux-wrapper")},62785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},40968:e=>{"use strict";e.exports=require("next/head")},38890:e=>{"use strict";e.exports=require("nextjs-progressbar")},59455:e=>{"use strict";e.exports=require("ni18n")},16689:e=>{"use strict";e.exports=require("react")},66405:e=>{"use strict";e.exports=require("react-dom")},84336:e=>{"use strict";e.exports=require("react-infinite-scroll-component")},73967:e=>{"use strict";e.exports=require("react-inner-image-zoom")},19931:e=>{"use strict";e.exports=require("react-modal")},6022:e=>{"use strict";e.exports=require("react-redux")},74508:e=>{"use strict";e.exports=require("react-responsive-carousel")},20997:e=>{"use strict";e.exports=require("react/jsx-runtime")},99816:e=>{"use strict";e.exports=require("styled-jsx/style")},99648:e=>{"use strict";e.exports=import("axios")},57987:e=>{"use strict";e.exports=import("react-i18next")},3590:e=>{"use strict";e.exports=import("react-toastify")},15941:e=>{"use strict";e.exports=import("swr")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},59796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[8184,7689,9209,1712,8450,8760,2431,1163,1664,9597,2952,5885,52,3980],()=>__webpack_exec__(89491));module.exports=r})();