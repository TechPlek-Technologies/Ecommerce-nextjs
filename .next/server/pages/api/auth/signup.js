"use strict";(()=>{var e={};e.id=7011,e.ids=[7011],e.modules={67096:e=>{e.exports=require("bcrypt")},11185:e=>{e.exports=require("mongoose")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},88358:(e,a,s)=>{s.r(a),s.d(a,{config:()=>m,default:()=>f,routeModule:()=>g});var t={};s.r(t),s.d(t,{config:()=>d,default:()=>apiHandler});var r=s(71802),i=s(47153),u=s(56249),l=s(67096),o=s.n(l),n=s(16572),p=s(13808),c=s(11217);let d={api:{bodyParser:!1}};async function apiHandler(e,a){let{method:s}=e;if(await (0,p.Z)(),"POST"===s)try{let s=await (0,c.c)(e),{name:t,email:r,password:i}=s.field,u=await o().genSalt(6),l=await o().hash(i,u);await n.Z.create({name:t,email:r,hash:l,salt:u}),a.status(200).json({success:!0})}catch(e){e&&11e3==e.code?(console.log(e),a.status(200).json({success:!1,duplicate:!0})):(console.log(e),a.status(400).json({success:!1,duplicate:!1}))}else a.status(400).json({success:!1})}let f=(0,u.l)(t,"default"),m=(0,u.l)(t,"config"),g=new r.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/auth/signup",pathname:"/api/auth/signup",bundlePath:"",filename:""},userland:t})},11217:(e,a,s)=>{s.d(a,{c:()=>parseForm,t:()=>parseFormMultiple});let t=require("formidable");var r=s.n(t);function parseForm(e){return new Promise((a,s)=>{let t=r()({keepExtensions:!0,uploadDir:"./public/uploads"});t.parse(e,(e,t,r)=>{if(e)return s(e);a({field:t,file:r})})})}function parseFormMultiple(e){return new Promise((a,s)=>{let t=r()({multiples:!0,keepExtensions:!0,uploadDir:"./public/uploads"});t.parse(e,(e,t,r)=>{if(e)return s(e);a({field:t,file:r})})})}}};var a=require("../../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[4222,9305,3808],()=>__webpack_exec__(88358));module.exports=s})();