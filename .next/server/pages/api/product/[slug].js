"use strict";(()=>{var e={};e.id=8052,e.ids=[8052],e.modules={11185:e=>{e.exports=require("mongoose")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},72528:(e,s,a)=>{a.r(s),a.d(s,{config:()=>d,default:()=>c,routeModule:()=>p});var t={};a.r(t),a.d(t,{default:()=>apiHandler});var i=a(71802),r=a(47153),u=a(56249),n=a(28434),o=a(39904),l=a(13808);async function apiHandler(e,s){let{method:a}=e;if(await (0,l.Z)(),"GET"===a)try{let{slug:a,relatedProduct:t}=e.query,i=await o.Z.findOne({}),r=await n.Z.findOne({slug:a});if("true"===t&&r){let e=await n.Z.find({categories:r.categories}).limit(8);s.status(200).json({success:!0,product:r,related:e,settings:i})}else s.status(200).json({success:!0,product:r})}catch(e){console.log(e),s.status(500).json({success:!1})}else s.status(400).json({success:!1})}let c=(0,u.l)(t,"default"),d=(0,u.l)(t,"config"),p=new i.PagesAPIRouteModule({definition:{kind:r.x.PAGES_API,page:"/api/product/[slug]",pathname:"/api/product/[slug]",bundlePath:"",filename:""},userland:t})}};var s=require("../../../webpack-api-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[4222,9305,3808],()=>__webpack_exec__(72528));module.exports=a})();