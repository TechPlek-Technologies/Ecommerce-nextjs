"use strict";(()=>{var e={};e.id=5383,e.ids=[5383],e.modules={11185:e=>{e.exports=require("mongoose")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},68727:(e,a,t)=>{t.r(a),t.d(a,{config:()=>g,default:()=>f,routeModule:()=>m});var i={};t.r(i),t.d(i,{default:()=>apiHandler});var s=t(71802),n=t(47153),r=t(56249),l=t(1112),o=t(28434),d=t(39904),u=t(41396),c=t(45225),p=t(13808);async function apiHandler(e,a){let{method:t}=e;if(await (0,p.Z)(),"GET"===t)try{let e=await l.Z.find({topCategory:!0}).select({name:1,slug:1,icon:1}),t={name:1,slug:1,image:1,unit:1,unitValue:1,price:1,discount:1,type:1,variants:1,quantity:1,date:1,review:1},i=await o.Z.find({trending:!0}).select(t),s=await o.Z.find({new:!0}).select(t),n=await c.Z.find({topBrand:!0}),r=await o.Z.find({bestSelling:!0}).select(t),p=await u.Z.findOne({}).select("homePage"),f=await d.Z.findOne({});a.setHeader("Cache-Control","s-maxage=300, stale-while-revalidate"),a.status(200).json({success:!0,category:e,additional:p,trending:i,newProduct:s,bestSelling:r,brand:n,settings:f})}catch(e){console.log(e),a.status(400).json({success:!1})}else a.status(400).json({success:!1})}let f=(0,r.l)(i,"default"),g=(0,r.l)(i,"config"),m=new s.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/home",pathname:"/api/home",bundlePath:"",filename:""},userland:i})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[4222,9305,3808],()=>__webpack_exec__(68727));module.exports=t})();