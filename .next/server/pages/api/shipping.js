"use strict";(()=>{var e={};e.id=743,e.ids=[743],e.modules={11185:e=>{e.exports=require("mongoose")},60614:e=>{e.exports=require("next-auth/jwt")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86703:(e,s,a)=>{a.r(s),a.d(s,{config:()=>d,default:()=>l,routeModule:()=>p});var t={};a.r(t),a.d(t,{default:()=>apiHandler});var n=a(71802),c=a(47153),r=a(56249),i=a(58364),o=a(69918),u=a(13808);async function apiHandler(e,s){let{method:a}=e;if(await (0,u.Z)(),!await (0,i.Z)(e,"shippingCharges"))return s.status(403).json({success:!1,message:"Access Forbidden"});switch(a){case"GET":try{let e=await o.Z.findOne({});s.status(200).json({success:!0,shippingCharge:e})}catch(e){console.log(e),s.status(400).json({success:!1})}break;case"POST":try{let{query:a,body:t}=e,n=await o.Z.findOne({});switch(null===n&&(n=new o.Z({area:[]})),a.scope){case"area":let c={name:t.areaName,price:t.areaCost};n.area.push(c),await n.save();break;case"international":n.internationalCost=t.amount,await n.save();break;default:return s.status(400).json({success:!1})}s.status(200).json({success:!0})}catch(e){console.log(e),s.status(400).json({success:!1})}break;case"DELETE":try{await o.Z.updateOne({},{$pull:{area:{_id:e.body.id}}},{safe:!0}),s.status(200).json({success:!0})}catch(e){console.log(e),s.status(400).json({success:!1})}break;case"PUT":try{let a=e.body;await o.Z.updateOne({"area._id":a.id},{$set:{"area.$.name":a.name,"area.$.price":a.cost}}),s.status(200).json({success:!0})}catch(e){console.log(e),s.status(400).json({success:!1})}break;default:s.status(400).json({success:!1})}}let l=(0,r.l)(t,"default"),d=(0,r.l)(t,"config"),p=new n.PagesAPIRouteModule({definition:{kind:c.x.PAGES_API,page:"/api/shipping",pathname:"/api/shipping",bundlePath:"",filename:""},userland:t})}};var s=require("../../webpack-api-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[4222,9305,3808,8364],()=>__webpack_exec__(86703));module.exports=a})();