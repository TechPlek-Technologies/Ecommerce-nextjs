"use strict";(()=>{var e={};e.id=7976,e.ids=[7976],e.modules={11185:e=>{e.exports=require("mongoose")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},34336:(e,s,a)=>{a.r(s),a.d(s,{config:()=>l,default:()=>o,routeModule:()=>d});var t={};a.r(t),a.d(t,{default:()=>apiHandler});var r=a(71802),i=a(47153),n=a(56249),u=a(27979),c=a(13808);async function apiHandler(e,s){let{method:a}=e;if(await (0,c.Z)(),"POST"===a)try{let a=e.body.email,t=await u.Z.findOne({});t||(t=new u.Z({subscribers:[]})),a.length>0?(t.subscribers.push({email:a}),await t.save(),s.status(201).json({success:!0})):s.status(400).json({success:!1})}catch(e){console.log(e),s.status(400).json({success:!1})}else s.status(400).json({success:!1})}let o=(0,n.l)(t,"default"),l=(0,n.l)(t,"config"),d=new r.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/subscribers/new",pathname:"/api/subscribers/new",bundlePath:"",filename:""},userland:t})}};var s=require("../../../webpack-api-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[4222,9305,3808],()=>__webpack_exec__(34336));module.exports=a})();