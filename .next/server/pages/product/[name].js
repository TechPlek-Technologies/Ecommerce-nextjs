"use strict";(()=>{var e={};e.id=6401,e.ids=[6401,660],e.modules={20395:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>p,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>m,reportWebVitals:()=>b,routeModule:()=>f,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>j});var a=r(87093),o=r(35244),n=r(1323),c=r(79209),l=r.n(c),i=r(39597),d=r(36210),u=e([i,d]);[i,d]=u.then?(await u)():u;let p=(0,n.l)(d,"default"),m=(0,n.l)(d,"getStaticProps"),h=(0,n.l)(d,"getStaticPaths"),x=(0,n.l)(d,"getServerSideProps"),g=(0,n.l)(d,"config"),b=(0,n.l)(d,"reportWebVitals"),j=(0,n.l)(d,"unstable_getStaticProps"),v=(0,n.l)(d,"unstable_getStaticPaths"),_=(0,n.l)(d,"unstable_getStaticParams"),N=(0,n.l)(d,"unstable_getServerProps"),y=(0,n.l)(d,"unstable_getServerSideProps"),f=new a.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/product/[name]",pathname:"/product/[name]",bundlePath:"",filename:""},components:{App:i.default,Document:l()},userland:d});s()}catch(e){s(e)}})},7039:(e,t,r)=>{r.d(t,{Z:()=>productDetailsData});var s=r(63051),a=r(59883),o=r(20052);async function productDetailsData(e){try{await (0,o.Z)();let t=await a.Z.findOne({}),r=await s.Z.findOne({slug:e}),n=r?await s.Z.find({categories:r.categories}).limit(8):[];return{success:!0,product:r,related:n,settings:t}}catch(e){return console.log(e),{success:!1,product:{},related:[],settings:{}}}}},36210:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__,getServerSideProps:()=>D});var a=r(20997),o=r(2195),n=r(90118),c=r(95081),l=r(5152),i=r.n(l),d=r(11163),u=r(16689),p=r(57987);r(27769);var m=r(6022);r(83559);var h=r(3590),x=r(10237),g=r.n(x),b=r(98805),j=r(2022),v=r(7039),_=r(23884),N=e([p,h,b]);[p,h,b]=N.then?(await N)():N;let y=i()(()=>Promise.all([r.e(1664),r.e(750)]).then(r.bind(r,60750)),{loadableGenerated:{modules:["product\\[name].js -> ~/components/error/404"]}}),f=i()(()=>Promise.all([r.e(1664),r.e(5885)]).then(r.bind(r,75885)),{loadableGenerated:{modules:["product\\[name].js -> ~/components/error/500"]}}),S=i()(()=>r.e(2952).then(r.bind(r,72952)),{loadableGenerated:{modules:["product\\[name].js -> ~/components/Head"]}}),q=i()(()=>Promise.all([r.e(9201),r.e(5675),r.e(9010)]).then(r.bind(r,59010)),{loadableGenerated:{modules:["product\\[name].js -> ~/components/Image"]}}),w=i()(()=>r.e(6032).then(r.bind(r,56494)),{loadableGenerated:{modules:["product\\[name].js -> ~/components/question"]}}),P=i()(()=>Promise.all([r.e(9201),r.e(5675),r.e(9010),r.e(1334)]).then(r.bind(r,61334)),{loadableGenerated:{modules:["product\\[name].js -> ~/components/Review"]}}),C=i()(()=>Promise.all([r.e(1664),r.e(9201),r.e(5675),r.e(140),r.e(4400),r.e(9010),r.e(9224)]).then(r.bind(r,31116)),{loadableGenerated:{modules:["product\\[name].js -> ~/components/Shop/Product/product"]}}),k=i()(()=>Promise.resolve().then(r.t.bind(r,73967,23)),{loadableGenerated:{modules:["product\\[name].js -> react-inner-image-zoom"]}}),T=i()(()=>Promise.resolve().then(r.t.bind(r,74508,23)).then(e=>e.Carousel),{loadableGenerated:{modules:["product\\[name].js -> react-responsive-carousel"]}});function EmptyContent({icon:e,text:t}){return(0,a.jsxs)("div",{className:g().empty_content,children:[a.jsx("div",{className:g().empty_icon,children:e}),a.jsx("div",{className:g().empty_text,children:t})]})}let D=_.Y.getServerSideProps(e=>async({req:t,res:r,query:s})=>{r&&r.setHeader("Cache-Control","public, s-maxage=10800, stale-while-revalidate=59");let a=await (0,v.Z)(s.name),o=JSON.parse(JSON.stringify(a));return o.success&&(0,j.aw)(e,o),{props:{data:o,error:!o.success}}}),__WEBPACK_DEFAULT_EXPORT__=function({data:e,error:t}){let[r,s]=(0,u.useState)({name:null,value:null}),[l,i]=(0,u.useState)({name:null,value:null,for:null}),{session:x}=(0,m.useSelector)(e=>e.localSession),[v,_]=(0,u.useState)(0),[N,D]=(0,u.useState)(1),[I,E]=(0,u.useState)(0),A=(0,m.useDispatch)(),G=(0,u.useRef)(),V=(0,u.useRef)(),O=(0,m.useSelector)(e=>e.cart),R=(0,m.useSelector)(e=>e.settings),W=(0,d.useRouter)(),F=e.related&&e.related.filter(t=>t._id!==e.product._id),{t:M}=(0,p.useTranslation)();(0,u.useEffect)(()=>{e&&e.product&&(_(e.product.discount),"variable"===e.product.type&&(e.product.colors&&e.product.colors.length>0&&s({name:e.product.colors[0]?.label,value:e.product.colors[0]?.value}),e.product.attributes&&e.product.attributes.length>0&&i({name:e.product.attributes[0]?.label,value:e.product.attributes[0]?.value,for:e.product.attributes[0]?.for})))},[e]);let checkVariantInfo=(t,s)=>{let a=t||r.name,o=s||l.name;return e.product.variants.find(e=>e.color===a&&e.attr===o)},selectPreviewImage=e=>{e.imageIndex&&e.imageIndex>0&&E(e.imageIndex-1)},updatePrice=(t,r)=>{let s=checkVariantInfo(t,r);if(s&&s.price){let t=e.product.discount+Number(s.price);_(t),selectPreviewImage(s)}},changeColor=e=>{try{let t={name:e.label,value:e.value};s(t),updatePrice(t.name,null)}catch(e){console.log(e)}},changeVariant=e=>{try{let t={name:e.label,value:e.value,for:e.for};i(t),updatePrice(null,t.name)}catch(e){console.log(e)}},Z=(0,b.l)(e,O,v,A),L=(0,b.k)(e,r,l,O,checkVariantInfo,(e,t,r)=>{let s=Number(r);return -1===s||e+t<=s},v,A),addItemToCart=()=>{let t=Number(G.current.value);"simple"===e.product.type?Z(t):L(t)},_showTab=e=>{D(e)},refreshData=()=>W.replace(W.asPath);async function postQuestion(t){try{t.preventDefault();let r={pid:e.product._id,question:V.current.value.trim()},s=await (0,j.qC)("/api/question",r);s.success?(h.toast.success("Question Added Successfully"),refreshData()):h.toast.error("Something Went Wrong 500")}catch(e){console.log(e),h.toast.error(`Something Went Wrong - ${e.message}`)}}return((0,u.useEffect)(()=>{if(e.product){let t=e.product.colors?.length||0,s=e.product.attributes?.length||0;t>0&&s>0&&updatePrice(r.name,l.name),t>0&&0===s&&updatePrice(r.name,null),0===t&&s>0&&updatePrice(null,l.name)}},[r,l]),t)?a.jsx(f,{}):e.product?(0,a.jsxs)(a.Fragment,{children:[a.jsx(S,{title:e.product.name,seo:e.product.seo,url:`product/${e.product.slug}`}),a.jsx("div",{className:"py-1",children:a.jsx("div",{className:"custom_container",children:(0,a.jsxs)("div",{className:"mt-5 px-2 py-3",children:[a.jsx("div",{className:g().container,children:(0,a.jsxs)("div",{className:"row m-0",children:[a.jsx("div",{className:"col-lg-6 p-0",children:a.jsx("div",{className:g().slider,children:a.jsx("div",{className:g().image_container_main,children:a.jsx(T,{showArrows:!1,showThumbs:!0,showIndicators:!1,renderThumbs:()=>{let t=e.product.gallery.map((t,r)=>a.jsx(q,{src:t.url,alt:e.product.name,width:67,height:67,style:{width:"100%",height:"auto"}},t.name+r));return t},preventMovementUntilSwipeScrollTolerance:!0,swipeScrollTolerance:50,emulateTouch:!0,selectedItem:I,children:e.product.gallery.map((e,t)=>a.jsx(k,{src:e.url,className:g().magnifier_container,fullscreenOnMobile:!0},e.name+t))})})})}),a.jsx("div",{className:"col-lg-6 p-0",children:(0,a.jsxs)("div",{className:g().details,children:[(0,a.jsxs)("p",{className:g().unit,children:[e.product.unitValue," ",e.product.unit]}),a.jsx("h1",{className:g().heading,children:e.product.name}),a.jsx("hr",{}),(0,a.jsxs)("div",{children:[e.product.discount<e.product.price&&(0,a.jsxs)("p",{className:g().price_ori,children:[R.settingsData.currency.symbol,e.product.price]}),(0,a.jsxs)("p",{className:g().price,children:[R.settingsData.currency.symbol,v]})]}),a.jsx("p",{className:g().description,children:e.product.shortDescription}),"variable"===e.product.type&&(0,a.jsxs)("div",{children:[e.product.colors.length>0&&(0,a.jsxs)("div",{className:g().color_selector,children:[a.jsx("p",{className:g().section_heading,style:{marginBottom:"11px"},children:M("color")}),a.jsx("div",{className:g().color_selector_container,children:e.product.colors.map((e,t)=>a.jsx("div",{className:g().circle_outer,onClick:()=>changeColor(e),title:e.name,children:a.jsx("label",{"data-selected":e.value===r.value,style:{backgroundColor:e.value}})},t))})]}),e.product.attributes.length>0&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:g().section_heading,children:e.product.attributes[0]?.for}),a.jsx("div",{className:g().select,children:e.product.attributes.map((e,t)=>a.jsx("span",{className:g().attr,onClick:()=>changeVariant(e),"data-selected":e.label===l.name,children:e.label},t))})]})]}),(0,a.jsxs)("div",{className:g().category,children:[a.jsx("p",{className:g().section_heading,children:M("categories")}),e.product.categories.map((e,t)=>a.jsx("span",{className:g().category_list,children:e},t))]}),(0,a.jsxs)("div",{className:g().cart_section,children:[a.jsx("p",{className:g().section_heading,children:"QTY"}),(0,a.jsxs)("div",{className:g().number_input,children:[a.jsx("button",{onClick:()=>{G.current.stepDown()},className:g().minus}),a.jsx("input",{className:g().quantity,ref:G,min:"1",max:-1===e.product.quantity?1e5:e.product.quantity,defaultValue:"1",type:"number",disabled:!0}),a.jsx("button",{onClick:()=>{G.current.stepUp()},className:g().plus})]}),a.jsx("div",{className:g().button_container,children:(0,j.XS)(e.product)?a.jsx("button",{className:g().cart_button,onClick:()=>addItemToCart(),children:M("add_to_cart")}):a.jsx("button",{className:g().cart_button,disabled:!0,children:M("out_of_stock")})})]})]})})]})}),(0,a.jsxs)("div",{className:g().tab_button,children:[a.jsx("button",{onClick:()=>_showTab(1),className:1===N?g().active:g().not,children:M("description")}),(0,a.jsxs)("button",{onClick:()=>_showTab(2),className:2===N?g().active:g().not,children:[M("review")," (",e.product.review.length,")"]}),(0,a.jsxs)("button",{onClick:()=>_showTab(3),className:3===N?g().active:g().not,children:[M("questions")," (",e.product.question.length,")"]})]}),(0,a.jsxs)("div",{className:g().details_card,children:[1===N&&a.jsx(a.Fragment,{children:e.product.description&&e.product.description.length>0?a.jsx("div",{dangerouslySetInnerHTML:{__html:e.product.description}}):a.jsx(EmptyContent,{icon:a.jsx(o.SK,{width:40,height:40}),text:"This product has no description"})}),2===N&&a.jsx(a.Fragment,{children:e.product.review&&e.product.review.length>0?a.jsx(P,{review:e.product.review}):a.jsx(EmptyContent,{icon:a.jsx(n.cV,{width:40,height:40}),text:"This product has no reviews yet"})}),3===N&&(0,a.jsxs)(a.Fragment,{children:[x&&(0,a.jsxs)("form",{className:"border border-2 rounded p-3 mb-3",onSubmit:postQuestion,children:[(0,a.jsxs)("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label",children:"Ask a question"}),a.jsx("textarea",{className:"form-control",maxLength:300,placeholder:"Maximum 300 words",ref:V,required:!0})]}),a.jsx("button",{type:"submit",className:g().c_btn,children:"ASK QUESTION"})]}),e.product.question&&e.product.question.length>0?a.jsx(w,{qtn:e.product.question,user:x,pid:e.product._id,refresh:refreshData}):a.jsx(EmptyContent,{icon:a.jsx(c.Cp,{width:40,height:40}),text:"There are no questions asked yet. Please login or register to ask question"})]})]}),F.length>0&&(0,a.jsxs)("div",{className:g().related,children:[a.jsx("p",{className:g().related_header,children:M("Related Items")}),a.jsx("ul",{className:g().related_list,children:F.map((e,t)=>a.jsx(C,{product:e,hideLink:!0,border:!0},t))})]})]})})})]}):a.jsx(y,{})};s()}catch(e){s(e)}})},75184:e=>{e.exports=require("@reduxjs/toolkit")},22646:e=>{e.exports=require("@styled-icons/bootstrap/House")},65429:e=>{e.exports=require("@styled-icons/styled-icon")},75666:e=>{e.exports=require("crypto-js")},22837:e=>{e.exports=require("crypto-js/aes")},3681:e=>{e.exports=require("custom-id-new")},62733:e=>{e.exports=require("fuse.js")},11185:e=>{e.exports=require("mongoose")},41649:e=>{e.exports=require("next-auth/react")},35648:e=>{e.exports=require("next-redux-wrapper")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},91877:e=>{e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},40968:e=>{e.exports=require("next/head")},38890:e=>{e.exports=require("nextjs-progressbar")},59455:e=>{e.exports=require("ni18n")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},73967:e=>{e.exports=require("react-inner-image-zoom")},19931:e=>{e.exports=require("react-modal")},6022:e=>{e.exports=require("react-redux")},74508:e=>{e.exports=require("react-responsive-carousel")},20997:e=>{e.exports=require("react/jsx-runtime")},99816:e=>{e.exports=require("styled-jsx/style")},99648:e=>{e.exports=import("axios")},57987:e=>{e.exports=import("react-i18next")},3590:e=>{e.exports=import("react-toastify")},15941:e=>{e.exports=import("swr")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},59796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[8184,7689,9209,1712,8450,8760,2189,2431,1163,2195,5067,9597,52,8805,237],()=>__webpack_exec__(20395));module.exports=r})();