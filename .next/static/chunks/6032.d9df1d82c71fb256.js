(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6032],{56494:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return Question}});var a=n(85893),t=n(5152),r=n.n(t),l=n(67294),c=n(22920),o=n(2022),i=n(37986),u=n.n(i);function Question(e){let{qtn:s,user:t,pid:i,refresh:d}=e,m=r()(()=>Promise.all([n.e(3253),n.e(8505)]).then(n.bind(n,3347)),{loadableGenerated:{webpack:()=>[3347]}}),[h,p]=(0,l.useState)(!1),[x,b]=(0,l.useState)(null),w=(0,l.useRef)(),closeModal=()=>{p(!1)};async function postAns(e){try{e.preventDefault();let s={id:x,pid:i,answer:w.current.value.trim()},n=await (0,o.VA)("/api/question",s);n.success?(c.toast.success("Answer Added Successfully"),closeModal(),d()):c.toast.error("Something Went Wrong 500")}catch(e){c.toast.error("Something Went Wrong - ".concat(e.message))}}return(0,a.jsxs)(a.Fragment,{children:[s.map(e=>(0,a.jsxs)("div",{className:u().wrap,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:e.userName}),"\xa0-\xa0",(0,a.jsx)("span",{children:(0,o.vc)(e.date)})]}),(0,a.jsxs)("h3",{children:[(0,a.jsx)("span",{children:"Q:"})," ",e.question]}),e.answer&&(0,a.jsxs)("p",{className:u().answer,children:[(0,a.jsx)("span",{children:"A:"})," ",e.answer]}),t&&t.user.a&&!e.answer&&(0,a.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>{var s;return s=e._id,void(p(!0),b(s))},children:"Reply"})]},e._id)),(0,a.jsx)(m,{isOpen:h,handleCloseModal:closeModal,small:!0,children:(0,a.jsxs)("form",{className:"p-3 mb-2 mt-3",onSubmit:postAns,children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{className:"form-label",children:"Answer this question"}),(0,a.jsx)("textarea",{className:"form-control",maxLength:300,placeholder:"Maximum 300 words",ref:w,required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-success",children:"Post Answer"})]})})]})}},37986:function(e){e.exports={wrap:"question_wrap__8hXDf",answer:"question_answer__mPIh1"}}}]);