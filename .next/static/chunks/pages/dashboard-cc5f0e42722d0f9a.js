(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026,5885,8214,922,2444],{91015:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(39025)}])},54116:function(e,s,a){"use strict";a.d(s,{Z:function(){return Card}});var r=a(85893);function Card(e){let{title:s,children:a}=e;return(0,r.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,r.jsx)("div",{className:"card-header bg-white py-3 text-center fw-bold",children:s}),(0,r.jsx)("div",{className:"card-body",children:a})]})}},18214:function(e,s,a){"use strict";a.r(s);var r=a(85893),l=a(31183),t=a.n(l);s.default=e=>{let{color:s}=e;return(0,r.jsx)("div",{className:t().container,children:(0,r.jsx)("div",{className:t().spinner})})}},42444:function(e,s,a){"use strict";a.r(s);var r=a(85893),l=a(67294),t=a(59734),i=a(75885),n=a(2022),c=a(18214);let d=(0,l.forwardRef)((e,s)=>{let{data:a,error:d,mutate:o}=(0,t.ZP)(e.url?e.url:null,n.gN);return((0,l.useImperativeHandle)(s,()=>({update:()=>{o()}})),(0,l.useEffect)(()=>{a&&a.success&&e.setData(a)},[a]),d)?(0,r.jsx)(i.default,{}):a?a&&!a.success?(0,r.jsx)(i.default,{}):(0,r.jsxs)(r.Fragment,{children:[" ",e.children," "]}):(0,r.jsx)("div",{style:{height:"100vh"},children:(0,r.jsx)(c.default,{})})});s.default=d},75885:function(e,s,a){"use strict";a.r(s);var r=a(85893),l=a(41664),t=a.n(l),i=a(69032),n=a.n(i);s.default=()=>(0,r.jsx)("div",{className:n().body,children:(0,r.jsx)("div",{className:n().body_container,children:(0,r.jsxs)("div",{className:n().ntfnd,children:[(0,r.jsx)("div",{className:n().error,children:(0,r.jsx)("h1",{children:"500"})}),(0,r.jsx)("h2",{children:"Oooops! Internal Server Error."}),(0,r.jsxs)("p",{children:["That is, something went terribly wrong. We suggest you to go back or visit here later",(0,r.jsx)("br",{}),(0,r.jsx)(t(),{href:"/",children:"Return to homepage"})]})]})})})},39025:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return _}});var r=a(85893),l=a(67294),t=a(22120),i=a(5152),n=a.n(i),c=a(25617),d=a(54116);let o=n()(()=>Promise.all([a.e(5279),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});var monthlySale=e=>{let{yearlySalesData:s}=e,[a,i]=(0,l.useState)([]),{settingsData:{currency:{symbol:n},color:{primary:h}}}=(0,c.v9)(e=>e.settings),[u,m]=(0,l.useState)(null),{t:v}=(0,t.$G)();return(0,l.useEffect)(()=>{m({options:{chart:{id:"area-chart"},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},dataLabels:{formatter:function(e){return n+e.toFixed(2)}},colors:[h]},series:[{name:"Sales",data:a.map(e=>e.total)}]})},[a]),(0,l.useEffect)(()=>{if(s&&s.length>0){var e;let a=[],r=(null===(e=s[0])||void 0===e?void 0:e.monthlySales)||[];[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>{let s=r.find(s=>s.month===e);s?a.push({...s,total:Math.round(s.total)}):a.push({month:e,total:0})}),i(a)}},[s]),(0,r.jsx)(d.Z,{title:"".concat(v("Sales summary of the year")," ").concat(new Date().getFullYear()),children:u&&(0,r.jsx)(o,{options:u.options,series:u.series,type:"area",height:350})})};let h=n()(()=>Promise.all([a.e(5279),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});var orderStatus=e=>{let{statusData:s}=e,[a,i]=(0,l.useState)([]),[n,c]=(0,l.useState)(null),{t:o}=(0,t.$G)();return(0,l.useEffect)(()=>{c({options:{labels:a.map(e=>e[0])},series:a.map(e=>e[1])})},[a]),(0,l.useEffect)(()=>{if(null==s?void 0:s.orderCounts){let e=Object.entries(null==s?void 0:s.orderCounts).map(e=>e);i(e)}},[s]),(0,r.jsx)(d.Z,{title:o("Yearly order status summary"),children:n&&(0,r.jsx)(h,{options:n.options,series:n.series,type:"polarArea",height:320})})};let u=n()(()=>Promise.all([a.e(5279),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});function OrderSummary(e){let{data:s}=e,{t:a}=(0,t.$G)(),l=[];s&&s.success&&[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>{let a=s.order.find(s=>s._id.month===e);a?l.push(a.results):l.push(0)});let i={series:[{name:"Order",data:l}],options:{chart:{height:350,type:"bar"},plotOptions:{bar:{columnWidth:"50%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yaxis:{labels:{formatter:function(e){return Math.round(e)}}}}};return(0,r.jsx)(d.Z,{title:"".concat(a("Order summary of the year")," ").concat(new Date().getFullYear()),children:(0,r.jsx)(u,{options:i.options,series:i.series,type:"bar",width:"100%",height:320})})}var m=a(42444),v=a(73300),x=a.n(v);let Dashboard=()=>{let[e,s]=(0,l.useState)({}),{t:a}=(0,t.$G)();return(0,r.jsx)(m.default,{url:"/api/dashboard",setData:s,ref:null,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:x().card_container,children:[(0,r.jsx)("div",{className:x().card,children:(0,r.jsx)("div",{className:x().circle,children:(0,r.jsxs)("div",{className:x().circle_inner,children:[(0,r.jsx)("div",{className:x().val,children:e.totalOrder}),(0,r.jsx)("div",{className:x().label,children:a("Total Order")}),(0,r.jsx)("div",{className:x().color})]})})}),(0,r.jsx)("div",{className:x().card,children:(0,r.jsx)("div",{className:x().circle,children:(0,r.jsxs)("div",{className:x().circle_inner,children:[(0,r.jsx)("div",{className:x().val,children:e.totalUser}),(0,r.jsx)("div",{className:x().label,children:a("Total Customer")}),(0,r.jsx)("div",{className:x().color})]})})}),(0,r.jsx)("div",{className:x().card,children:(0,r.jsx)("div",{className:x().circle,children:(0,r.jsxs)("div",{className:x().circle_inner,children:[(0,r.jsx)("div",{className:x().val,children:e.totalCategory}),(0,r.jsx)("div",{className:x().label,children:a("Total Category")}),(0,r.jsx)("div",{className:x().color})]})})}),(0,r.jsx)("div",{className:x().card,children:(0,r.jsx)("div",{className:x().circle,children:(0,r.jsxs)("div",{className:x().circle_inner,children:[(0,r.jsx)("div",{className:x().val,children:e.totalColor}),(0,r.jsx)("div",{className:x().label,children:a("Total Color")}),(0,r.jsx)("div",{className:x().color})]})})}),(0,r.jsx)("div",{className:x().card,children:(0,r.jsx)("div",{className:x().circle,children:(0,r.jsxs)("div",{className:x().circle_inner,children:[(0,r.jsx)("div",{className:x().val,children:e.totalAttribute}),(0,r.jsx)("div",{className:x().label,children:a("Total Attribute")}),(0,r.jsx)("div",{className:x().color})]})})}),(0,r.jsx)("div",{className:x().card,children:(0,r.jsx)("div",{className:x().circle,children:(0,r.jsxs)("div",{className:x().circle_inner,children:[(0,r.jsx)("div",{className:x().val,children:e.totalCoupon}),(0,r.jsx)("div",{className:x().label,children:a("Total Coupon")}),(0,r.jsx)("div",{className:x().color})]})})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsx)(OrderSummary,{data:e})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)(orderStatus,{statusData:e.orderCountByStatus||{}})}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)(monthlySale,{yearlySalesData:e.salesByMonth||[]})})]})]})})};Dashboard.requireAuthAdmin=!0,Dashboard.dashboard=!0;var _=Dashboard},31183:function(e){e.exports={container:"spinner_container__Ce8dH",spinner:"spinner_spinner__eipLJ",spin:"spinner_spin__LDwbh"}},69032:function(e){e.exports={body:"__403_body__otBK_",body_container:"__403_body_container__ZHJj1",ntfnd:"__403_ntfnd__oD8dB",error:"__403_error__qSaCL"}},73300:function(e){e.exports={card_container:"dashboard_card_container__t3dy0",card:"dashboard_card__Xha2N",circle:"dashboard_circle__qQYZs",circle_inner:"dashboard_circle_inner__eC6R1",val:"dashboard_val__X5nPT",label:"dashboard_label__SgCdD",color:"dashboard_color__LuQ_d"}}},function(e){e.O(0,[9734,1664,9774,2888,179],function(){return e(e.s=91015)}),_N_E=e.O()}]);