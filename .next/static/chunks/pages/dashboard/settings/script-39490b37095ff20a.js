(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8201],{88984:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/settings/script",function(){return s(51635)}])},51635:function(e,t,s){"use strict";s.r(t);var a=s(85893),i=s(5152),l=s.n(i),r=s(67294),n=s(22120),c=s(25617),o=s(22920),d=s(59734),p=s(2022);let u=l()(()=>s.e(8214).then(s.bind(s,18214)),{loadableGenerated:{webpack:()=>[18214]}}),m=l()(()=>Promise.all([s.e(7529),s.e(8188)]).then(s.bind(s,76606)),{loadableGenerated:{webpack:()=>[76606]}}),SettingsPageScript=()=>{let{data:e,error:t,mutate:s}=(0,d.ZP)("/api/settings",p.gN),[i,l]=(0,r.useState)([]),[f,g]=(0,r.useState)(""),{t:h}=(0,n.$G)();(0,r.useEffect)(()=>{e&&e.settings&&l(e.settings)},[e]);let{session:x}=(0,c.v9)(e=>e.localSession),[b,N]=(0,r.useState)({});(0,r.useEffect)(()=>{N((0,p.wn)(x,"settings"))},[x]);let j=(0,r.useRef)(),S=(0,r.useRef)(),y=(0,r.useRef)(),v=(0,r.useRef)(),I=(0,r.useRef)(),handleForm=async e=>{e.preventDefault(),g("loading");try{let e=JSON.stringify({googleSiteVerificationId:j.current.value.trim(),facebookAppId:S.current.value.trim(),googleAnalyticsId:y.current.value.trim(),facebookPixelId:v.current.value.trim(),messengerPageId:I.current.value.trim()}),t=new FormData;t.append("script",e);let s=await (0,p.qC)("/api/settings?scope=script",t);s.success?o.toast.success("Setting Updated Successfully"):o.toast.error("Something Went Wrong (500)")}catch(e){o.toast.error("Something Went Wrong (".concat(e.message,")"))}g("")};return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("div",{className:"text-center text-danger",children:"failed to load"}):i._id?(0,a.jsxs)("form",{onSubmit:handleForm,children:[(0,a.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,a.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:h("Scripts Settings")}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"py-3",children:[(0,a.jsx)("label",{htmlFor:"inp-1",className:"form-label",children:h("Google Site Verification Id")}),(0,a.jsx)("input",{type:"text",ref:j,id:"inp-1",defaultValue:i.script.googleSiteVerificationId,className:"form-control"})]}),(0,a.jsxs)("div",{className:"py-3",children:[(0,a.jsx)("label",{htmlFor:"inp-2",className:"form-label",children:h("Google Analytics Id")}),(0,a.jsx)("input",{type:"text",ref:y,id:"inp-2",defaultValue:i.script.googleAnalyticsId,className:"form-control"})]}),(0,a.jsxs)("div",{className:"py-3",children:[(0,a.jsx)("label",{htmlFor:"inp-3",className:"form-label",children:h("Facebook App Id")}),(0,a.jsx)("input",{type:"text",ref:S,id:"inp-3",defaultValue:i.script.facebookAppId,className:"form-control"})]}),(0,a.jsxs)("div",{className:"py-3",children:[(0,a.jsx)("label",{htmlFor:"inp-4",className:"form-label",children:h("Facebook Pixel Id")}),(0,a.jsx)("input",{type:"text",ref:v,id:"inp-4",defaultValue:i.script.facebookPixelId,className:"form-control"})]}),(0,a.jsxs)("div",{className:"py-3",children:[(0,a.jsx)("label",{htmlFor:"inp-5",className:"form-label",children:h("Facebook Messenger Page Id")}),(0,a.jsx)("input",{type:"text",ref:I,id:"inp-5",defaultValue:i.script.messengerPageId,className:"form-control"})]})]})]}),b.edit&&(0,a.jsx)("div",{className:"py-3",children:(0,a.jsx)(m,{type:"submit",text:h("UPDATE"),state:f})})]}):(0,a.jsx)(u,{})})};SettingsPageScript.requireAuthAdmin=!0,SettingsPageScript.dashboard=!0,t.default=SettingsPageScript}},function(e){e.O(0,[9734,9774,2888,179],function(){return e(e.s=88984)}),_N_E=e.O()}]);