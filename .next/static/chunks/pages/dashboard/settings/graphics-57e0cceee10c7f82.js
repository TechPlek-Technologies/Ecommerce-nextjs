(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6864],{17594:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/settings/graphics",function(){return s(8796)}])},8796:function(e,t,s){"use strict";s.r(t);var a=s(85893),i=s(5152),n=s.n(i),l=s(67294),c=s(22120),r=s(25617),d=s(22920),p=s(59734),g=s(2022);let o=n()(()=>s.e(8214).then(s.bind(s,18214)),{loadableGenerated:{webpack:()=>[18214]}}),u=n()(()=>Promise.all([s.e(7529),s.e(8188)]).then(s.bind(s,76606)),{loadableGenerated:{webpack:()=>[76606]}}),h=n()(()=>Promise.all([s.e(7529),s.e(5675),s.e(5121),s.e(4504)]).then(s.bind(s,94504)),{loadableGenerated:{webpack:()=>[94504]}}),SettingsPageGraphics=()=>{let{data:e,error:t,mutate:s}=(0,p.ZP)("/api/settings",g.gN),[i,n]=(0,l.useState)([]),[b,x]=(0,l.useState)([]),[m,S]=(0,l.useState)([]),[f,j]=(0,l.useState)([]),[w,y]=(0,l.useState)(""),{t:F}=(0,c.$G)();(0,l.useEffect)(()=>{e&&e.settings&&(n(e.settings),x(e.settings.logo),S(e.settings.favicon),j(e.settings.gatewayImage))},[e]);let{session:N}=(0,r.v9)(e=>e.localSession),[_,v]=(0,l.useState)({});(0,l.useEffect)(()=>{v((0,g.wn)(N,"settings"))},[N]);let handleForm=async e=>{e.preventDefault(),y("loading");try{let e={logo:b,favicon:m,gatewayImage:f},t=new FormData;for(let s in e)t.append(s,JSON.stringify(e[s]));let s=await (0,g.qC)("/api/settings?scope=graphics",t);s.success?d.toast.success("Setting Updated Successfully"):d.toast.error("Something Went Wrong (500)")}catch(e){d.toast.error("Something Went Wrong (".concat(e.message,")"))}y("")};return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("div",{className:"text-center text-danger",children:"failed to load"}):i._id?(0,a.jsx)("form",{onSubmit:handleForm,children:(0,a.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,a.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:F("Website Graphics Content")}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"py-3",children:[(0,a.jsx)(h,{accept:".jpg,.png,.jpeg",label:F("Website Logo(250px x 70px)"),maxFileSizeInBytes:2e6,updateFilesCb:x,preSelectedFiles:b}),(0,a.jsx)(h,{accept:".jpg,.png,.jpeg",label:F("Website Favicon(150px x 150px)"),maxFileSizeInBytes:2e6,updateFilesCb:S,preSelectedFiles:m}),(0,a.jsx)(h,{accept:".jpg,.png,.jpeg",label:F("Payment Gateway List Image(565px x 37px)"),maxFileSizeInBytes:2e6,updateFilesCb:j,preSelectedFiles:f})]}),_.edit&&(0,a.jsx)("div",{className:"py-3",children:(0,a.jsx)(u,{type:"submit",text:F("UPDATE"),state:w})})]})]})}):(0,a.jsx)(o,{})})};SettingsPageGraphics.requireAuthAdmin=!0,SettingsPageGraphics.dashboard=!0,t.default=SettingsPageGraphics}},function(e){e.O(0,[9734,9774,2888,179],function(){return e(e.s=17594)}),_N_E=e.O()}]);