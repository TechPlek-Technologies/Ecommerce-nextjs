(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4223],{938:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/settings/gateway",function(){return s(89385)}])},89385:function(e,a,s){"use strict";s.r(a);var t=s(85893),c=s(5152),l=s.n(c),i=s(67294),r=s(22120),d=s(25617),n=s(22920),h=s(59734),o=s(2022);let m=l()(()=>s.e(8214).then(s.bind(s,18214)),{loadableGenerated:{webpack:()=>[18214]}}),p=l()(()=>Promise.all([s.e(7529),s.e(8188)]).then(s.bind(s,76606)),{loadableGenerated:{webpack:()=>[76606]}}),x=l()(()=>Promise.all([s.e(5675),s.e(9010)]).then(s.bind(s,59010)),{loadableGenerated:{webpack:()=>[59010]}}),SettingsPageGateway=()=>{let{data:e,error:a,mutate:s}=(0,h.ZP)("/api/settings",o.gN),[c,l]=(0,i.useState)([]),[f,b]=(0,i.useState)("");(0,i.useEffect)(()=>{e&&e.settings&&l(e.settings)},[e]);let y=(0,i.useRef)(),g=(0,i.useRef)(),w=(0,i.useRef)(),u=(0,i.useRef)(),j=(0,i.useRef)(),{session:N}=(0,d.v9)(e=>e.localSession),[v,k]=(0,i.useState)({}),{t:S}=(0,r.$G)();(0,i.useEffect)(()=>{k((0,o.wn)(N,"settings"))},[N]);let handleForm=async e=>{e.preventDefault(),b("loading");try{let e=JSON.stringify({cod:y.current.checked,paypal:g.current.checked,stripe:w.current.checked,sslCommerz:u.current.checked,razorpay:j.current.checked}),a=new FormData;a.append("gateway",e);let s=await (0,o.qC)("/api/settings?scope=gateway",a);s.success?n.toast.success("Setting Updated Successfully"):n.toast.error("Something Went Wrong (500)"),b("")}catch(e){n.toast.error("Something Went Wrong (".concat(e.message,")"))}};return(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)("div",{className:"text-center text-danger",children:"failed to load"}):c._id?(0,t.jsxs)("form",{onSubmit:handleForm,children:[(0,t.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,t.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:S("Payment Gateway Settings")}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-xl-4 col-lg-6",children:(0,t.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,t.jsx)("div",{className:"card-header bg-white py-3 text-center fw-bold",children:S("Cash On Delivery Payment Activation")}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("div",{className:"float-start",children:(0,t.jsx)(x,{src:"".concat("https://app.techplek.website","/images/cash-on-del-logo.png"),width:100,height:50,alt:"COD"})}),(0,t.jsxs)("div",{className:"form-check form-switch my-3 float-end",children:[(0,t.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inp-110",ref:y,defaultChecked:c.paymentGateway.cod}),(0,t.jsx)("label",{className:"form-check-label",htmlFor:"inp-110",children:S("Status")})]})]})]})}),(0,t.jsx)("div",{className:"col-xl-4 col-lg-6",children:(0,t.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,t.jsx)("div",{className:"card-header bg-white py-3 text-center fw-bold",children:S("Paypal Payment Activation")}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("div",{className:"float-start",children:(0,t.jsx)(x,{src:"".concat("https://app.techplek.website","/images/paypal-logo.png"),width:100,height:50,alt:"Paypal"})}),(0,t.jsxs)("div",{className:"form-check form-switch my-3 float-end",children:[(0,t.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inp-111",ref:g,defaultChecked:c.paymentGateway.paypal}),(0,t.jsx)("label",{className:"form-check-label",htmlFor:"inp-111",children:S("Status")})]})]})]})}),(0,t.jsx)("div",{className:"col-xl-4 col-lg-6",children:(0,t.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,t.jsx)("div",{className:"card-header bg-white py-3 text-center fw-bold",children:S("Stripe Payment Activation")}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("div",{className:"float-start",children:(0,t.jsx)(x,{src:"".concat("https://app.techplek.website","/images/stripe-logo.png"),width:100,height:50,alt:"Stripe"})}),(0,t.jsxs)("div",{className:"form-check form-switch my-3 float-end",children:[(0,t.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inp-112",ref:w,defaultChecked:c.paymentGateway.stripe}),(0,t.jsx)("label",{className:"form-check-label",htmlFor:"inp-112",children:S("Status")})]})]})]})}),(0,t.jsx)("div",{className:"col-xl-4 col-lg-6",children:(0,t.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,t.jsx)("div",{className:"card-header bg-white py-3 text-center fw-bold",children:S("Sslcommerz Payment Activation")}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("div",{className:"float-start",children:(0,t.jsx)(x,{src:"".concat("https://app.techplek.website","/images/ssl-logo.png"),width:100,height:50,alt:"Sslcommerz"})}),(0,t.jsxs)("div",{className:"form-check form-switch my-3 float-end",children:[(0,t.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inp-113",ref:u,defaultChecked:c.paymentGateway.sslCommerz}),(0,t.jsx)("label",{className:"form-check-label",htmlFor:"inp-113",children:S("Status")})]})]})]})}),(0,t.jsx)("div",{className:"col-xl-4 col-lg-6",children:(0,t.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,t.jsx)("div",{className:"card-header bg-white py-3 text-center fw-bold",children:"Razorpay Payment Activation"}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("div",{className:"float-start",children:(0,t.jsx)(x,{src:"".concat("https://app.techplek.website","/images/razorpay-logo.png"),width:"100",height:"50",alt:"Razorpay"})}),(0,t.jsxs)("div",{className:"form-check form-switch my-3 float-end",children:[(0,t.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inp-113",ref:j,defaultChecked:c.paymentGateway.razorpay}),(0,t.jsx)("label",{className:"form-check-label",htmlFor:"inp-113",children:"Status"})]})]})]})})]})})]}),v.edit&&(0,t.jsx)("div",{className:"py-3",children:(0,t.jsx)(p,{type:"submit",text:S("UPDATE"),state:f})})]}):(0,t.jsx)(m,{})})};SettingsPageGateway.requireAuthAdmin=!0,SettingsPageGateway.dashboard=!0,a.default=SettingsPageGateway}},function(e){e.O(0,[9734,9774,2888,179],function(){return e(e.s=938)}),_N_E=e.O()}]);