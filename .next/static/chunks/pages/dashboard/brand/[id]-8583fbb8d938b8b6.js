(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8757],{72500:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/brand/[id]",function(){return a(85271)}])},85271:function(e,t,a){"use strict";a.r(t);var n=a(85893),d=a(5152),r=a.n(d),s=a(12918),i=a.n(s),l=a(11163),u=a(67294),o=a(22120),c=a(22920),m=a(59734),b=a(83490),p=a.n(b),f=a(2022);let h=r()(()=>a.e(8214).then(a.bind(a,18214)),{loadableGenerated:{webpack:()=>[18214]}}),x=r()(()=>Promise.all([a.e(7529),a.e(5675),a.e(5121),a.e(4504)]).then(a.bind(a,94504)),{loadableGenerated:{webpack:()=>[94504]}}),g=r()(()=>Promise.all([a.e(7529),a.e(8188)]).then(a.bind(a,76606)),{loadableGenerated:{webpack:()=>[76606]}}),EditCategory=()=>{let e=(0,l.useRouter)(),t="/api/admin/brand/edit?id=".concat(e.query.id),{data:a,error:d}=(0,m.ZP)(e.query.id?t:null,f.gN),r=(0,u.useRef)(null),[s,b]=(0,u.useState)({}),[_,j]=(0,u.useState)([]),[y,N]=(0,u.useState)(""),{t:w}=(0,o.$G)();(0,u.useEffect)(()=>{a&&a.brand&&(b(a.brand),j(a.brand.image))},[a]);let submitHandler=async e=>{e.preventDefault();try{if(!_[0])return c.toast.warning("Please add brand icon");N("loading");let e={id:s._id,name:r.current.value,image:_},t=await (0,f.qC)("/api/admin/brand/edit",e);t.success?c.toast.success("Brand Updated Successfully"):c.toast.error("Something Went Wrong"),N("")}catch(e){N(""),c.toast.error("Something Went Wrong ".concat(e.message))}};return(0,n.jsx)(n.Fragment,{children:d?(0,n.jsx)(i(),{statusCode:500}):a?s._id?(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"text-center pt-3 pb-5",children:[w("Edit Brand")," (",s.name,")"]}),(0,n.jsxs)("form",{onSubmit:submitHandler,children:[(0,n.jsx)("input",{type:"hidden",name:"id",defaultValue:s._id}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("label",{htmlFor:"inp-1",className:"form-label",children:[w("name"),"*"]}),(0,n.jsx)("input",{type:"text",id:"inp-1",className:p().input+" form-control",ref:r,defaultValue:s.name,required:!0})]}),(0,n.jsx)("div",{className:"mb-4 pt-2",children:(0,n.jsx)(x,{accept:".jpg,.png,.jpeg",label:w("Replace brand image*"),maxFileSizeInBytes:2e6,updateFilesCb:j,preSelectedFiles:s.image})}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(g,{type:"submit",text:w("Update Brand"),state:y})})]})]}):(0,n.jsx)(i(),{statusCode:404}):(0,n.jsx)(h,{})})};EditCategory.requireAuthAdmin=!0,EditCategory.dashboard=!0,t.default=EditCategory},83490:function(e){e.exports={button_danger:"productForm_button_danger__HuxDf"}},12918:function(e,t,a){e.exports=a(66908)},11163:function(e,t,a){e.exports=a(59974)}},function(e){e.O(0,[9734,9774,2888,179],function(){return e(e.s=72500)}),_N_E=e.O()}]);