(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7551],{40644:function(e,t,a){"use strict";a.d(t,{w:function(){return o}});var n=a(87462),r=a(67294),l=a(7529),o=r.forwardRef(function(e,t){return r.createElement(l.r,(0,n.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),r.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),r.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}))});o.displayName="PencilSquare"},25137:function(e,t,a){"use strict";a.d(t,{r:function(){return o}});var n=a(87462),r=a(67294),l=a(7529),o=r.forwardRef(function(e,t){return r.createElement(l.r,(0,n.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),r.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))});o.displayName="Trash"},86263:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/product",function(){return a(71525)}])},71525:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var n=a(85893),r=a(25137),l=a(40644),o=a(87462),s=a(67294),c=a(7529),i=s.forwardRef(function(e,t){return s.createElement(c.r,(0,o.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),s.createElement("path",{d:"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"}))});i.displayName="Files";var d=a(5152),u=a.n(d),h=a(22120),m=a(25617),b=a(22920),_=a(59734),p=a(71178),w=a.n(p),f=a(2022);let v=u()(()=>a.e(44).then(a.bind(a,90044)),{loadableGenerated:{webpack:()=>[90044]}}),x=u()(()=>a.e(6744).then(a.bind(a,36744)),{loadableGenerated:{webpack:()=>[36744]}}),g=u()(()=>Promise.all([a.e(3253),a.e(8505)]).then(a.bind(a,3347)),{loadableGenerated:{webpack:()=>[3347]}}),j=u()(()=>a.e(8214).then(a.bind(a,18214)),{loadableGenerated:{webpack:()=>[18214]}}),E=u()(()=>Promise.all([a.e(5675),a.e(9010)]).then(a.bind(a,59010)),{loadableGenerated:{webpack:()=>[59010]}}),N=u()(()=>a.e(1664).then(a.t.bind(a,41664,23)),{loadableGenerated:{webpack:()=>[41664]}}),ProductList=()=>{let{data:e,error:t,mutate:a}=(0,_.ZP)("/api/product",f.gN),[o,c]=(0,s.useState)([]);(0,s.useEffect)(()=>{e&&e.product&&c(e.product)},[e]);let[d,u]=(0,s.useState)(!1),[p,C]=(0,s.useState)(""),{t:V}=(0,h.$G)(),y=(0,m.v9)(e=>e.settings),P=y.settingsData.currency.symbol,{session:S}=(0,m.v9)(e=>e.localSession),[M,k]=(0,s.useState)({});(0,s.useEffect)(()=>{k((0,f.wn)(S,"product"))},[S]);let openModal=e=>{C(e),u(!0)},closeModal=()=>{u(!1)},deleteProduct=async()=>{u(!1),await (0,f.SR)("/api/product/delete/".concat(p)).then(e=>e.success?(b.toast.success("Product Deleted Successfully"),a()):b.toast.error("Something Went Wrong")).catch(e=>{console.log(e),b.toast.error("Something Went Wrong")})},[z,H]=s.useState(""),[A,L]=s.useState(!1),G=o.filter(e=>e.name&&e.name.toLowerCase().includes(z.toLowerCase())),D=s.useMemo(()=>(0,n.jsx)(x,{onFilter:e=>H(e),onClear:()=>{z&&(L(!A),H(""))},filterText:z}),[z,A]);async function cloneDoc(e){try{let t=await (0,f.VA)("/api/product",{id:e});t.success?(b.toast.success(t.message),a()):b.toast.error(t.message)}catch(e){console.log(e.message)}}let R=[{name:V("Product Id"),selector:e=>e.productId},{name:V("name"),selector:e=>(0,n.jsx)("span",{title:e.name,children:e.name}),sortable:!0},{name:V("image"),selector:t=>{var a;return(0,n.jsx)(E,{src:null===(a=t.image[0])||void 0===a?void 0:a.url,alt:e.name,width:80,height:80})}},{name:V("Product Type"),selector:e=>e.type.toUpperCase(),sortable:!0},{name:V("price"),selector:e=>P+e.price,sortable:!0},{name:V("action"),selector:e=>(0,n.jsxs)("div",{children:[M.delete&&(0,n.jsx)("div",{className:w().button,onClick:()=>openModal(e._id),children:(0,n.jsx)(r.r,{width:22,height:22,title:"DELETE"})}),M.edit&&(0,n.jsx)(N,{href:"/dashboard/product/".concat(e.slug),children:(0,n.jsx)("div",{className:w().button,children:(0,n.jsx)(l.w,{width:22,height:22,title:"EDIT"})})}),M.edit&&(0,n.jsx)("div",{className:w().button,onClick:()=>cloneDoc(e._id),children:(0,n.jsx)(i,{width:22,height:22,title:"CLONE"})})]})}];return(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)("div",{className:"text-center text-danger",children:"failed to load"}):e?(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-center pt-3 pb-5",children:"Products"}),(0,n.jsxs)("div",{className:w().container,children:[(0,n.jsx)(v,{columns:R,data:G,pagination:!0,paginationResetDefaultPage:A,subHeader:!0,subHeaderComponent:D,persistTableHead:!0,customStyles:{rows:{style:{minHeight:"92px",fontSize:"15px"}},headCells:{style:{fontSize:"15px"}}}}),(0,n.jsx)(g,{isOpen:d,handleCloseModal:closeModal,small:!0,children:(0,n.jsxs)("div",{className:w().modal_icon,children:[(0,n.jsx)(r.r,{width:90,height:90}),(0,n.jsx)("p",{children:"Are you sure, you want to delete?"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{className:w().danger_button,onClick:()=>deleteProduct(),children:"Delete"}),(0,n.jsx)("button",{className:w().success_button,onClick:()=>closeModal(),children:"Cancel"})]})]})})]})]}):(0,n.jsx)(j,{})})};ProductList.requireAuthAdmin=!0,ProductList.dashboard=!0;var C=ProductList},71178:function(e){e.exports={container:"table_container__f1mC4",button:"table_button__LF8_5",modal_icon:"table_modal_icon__t_aHR",danger_button:"table_danger_button__jpS_l",success_button:"table_success_button__lcGr5",color_viewer:"table_color_viewer__54oBu",search_bar:"table_search_bar__anNGy",search_bar_button:"table_search_bar_button__OjZ8a"}}},function(e){e.O(0,[7529,9734,9774,2888,179],function(){return e(e.s=86263)}),_N_E=e.O()}]);