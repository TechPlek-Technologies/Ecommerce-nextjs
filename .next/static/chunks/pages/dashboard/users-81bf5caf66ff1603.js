(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501,5885,8214,922,2444],{25137:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var s=r(87462),n=r(67294),a=r(7529),l=n.forwardRef(function(e,t){return n.createElement(a.r,(0,s.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),n.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),n.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))});l.displayName="Trash"},48045:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/users",function(){return r(17953)}])},18214:function(e,t,r){"use strict";r.r(t);var s=r(85893),n=r(31183),a=r.n(n);t.default=e=>{let{color:t}=e;return(0,s.jsx)("div",{className:a().container,children:(0,s.jsx)("div",{className:a().spinner})})}},42444:function(e,t,r){"use strict";r.r(t);var s=r(85893),n=r(67294),a=r(59734),l=r(75885),o=r(2022),c=r(18214);let i=(0,n.forwardRef)((e,t)=>{let{data:r,error:i,mutate:d}=(0,a.ZP)(e.url?e.url:null,o.gN);return((0,n.useImperativeHandle)(t,()=>({update:()=>{d()}})),(0,n.useEffect)(()=>{r&&r.success&&e.setData(r)},[r]),i)?(0,s.jsx)(l.default,{}):r?r&&!r.success?(0,s.jsx)(l.default,{}):(0,s.jsxs)(s.Fragment,{children:[" ",e.children," "]}):(0,s.jsx)("div",{style:{height:"100vh"},children:(0,s.jsx)(c.default,{})})});t.default=i},75885:function(e,t,r){"use strict";r.r(t);var s=r(85893),n=r(41664),a=r.n(n),l=r(69032),o=r.n(l);t.default=()=>(0,s.jsx)("div",{className:o().body,children:(0,s.jsx)("div",{className:o().body_container,children:(0,s.jsxs)("div",{className:o().ntfnd,children:[(0,s.jsx)("div",{className:o().error,children:(0,s.jsx)("h1",{children:"500"})}),(0,s.jsx)("h2",{children:"Oooops! Internal Server Error."}),(0,s.jsxs)("p",{children:["That is, something went terribly wrong. We suggest you to go back or visit here later",(0,s.jsx)("br",{}),(0,s.jsx)(a(),{href:"/",children:"Return to homepage"})]})]})})})},17953:function(e,t,r){"use strict";r.r(t);var s=r(85893),n=r(25137),a=r(5152),l=r.n(a),o=r(67294),c=r(22120),i=r(25617),d=r(22920),u=r(71178),_=r.n(u),h=r(42444),b=r(2022);let m=l()(()=>Promise.all([r.e(3253),r.e(8505)]).then(r.bind(r,3347)),{loadableGenerated:{webpack:()=>[3347]}}),f=l()(()=>r.e(6494).then(r.bind(r,16494)),{loadableGenerated:{webpack:()=>[16494]}}),SubscriberList=()=>{let[e,t]=(0,o.useState)({users:[]}),r=(0,o.useRef)(),[a,l]=(0,o.useState)(!1),[u,p]=(0,o.useState)(""),{session:x}=(0,i.v9)(e=>e.localSession),[v,j]=(0,o.useState)({}),{t:w}=(0,c.$G)();(0,o.useEffect)(()=>{j((0,b.wn)(x,"customers"))},[x]);let openModal=e=>{p(e),l(!0)},closeModal=()=>{l(!1)},deleteSubscriber=async()=>{l(!1),await (0,b.SR)("/api/users?id=".concat(u)).then(e=>e.success?(d.toast.success("Customer Deleted Successfully"),void r.current.update()):d.toast.error("Something Went Wrong")).catch(e=>{console.log(e),d.toast.error("Something Went Wrong")})},g=[{name:w("name"),selector:e=>e.name},{name:w("email"),selector:e=>e.email},{name:w("phone"),selector:e=>e.phone},{name:w("Created"),selector:e=>(0,b.vc)(e.createdAt),sortable:!0},{name:w("Total Order"),selector:e=>e.orders.length,sortable:!0},{name:w("action"),selector:e=>v.delete&&(0,s.jsx)("div",{className:_().button,onClick:()=>openModal(e._id),children:(0,s.jsx)(n.r,{width:22,height:22,title:"DELETE"})})}];return(0,s.jsx)(h.default,{url:"/api/users",setData:t,ref:r,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-center pt-3 pb-5",children:"Customers"}),(0,s.jsxs)("div",{className:_().container,children:[(0,s.jsx)(f,{columns:g,data:e.users,searchKey:"email",searchPlaceholder:"Email"}),(0,s.jsx)(m,{isOpen:a,handleCloseModal:closeModal,small:!0,children:(0,s.jsxs)("div",{className:_().modal_icon,children:[(0,s.jsx)(n.r,{width:90,height:90}),(0,s.jsx)("p",{children:"Are you sure, you want to delete?"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:_().danger_button,onClick:()=>deleteSubscriber(),children:"Delete"}),(0,s.jsx)("button",{className:_().success_button,onClick:()=>closeModal(),children:"Cancel"})]})]})})]})]})})};SubscriberList.requireAuthAdmin=!0,SubscriberList.dashboard=!0,t.default=SubscriberList},31183:function(e){e.exports={container:"spinner_container__Ce8dH",spinner:"spinner_spinner__eipLJ",spin:"spinner_spin__LDwbh"}},69032:function(e){e.exports={body:"__403_body__otBK_",body_container:"__403_body_container__ZHJj1",ntfnd:"__403_ntfnd__oD8dB",error:"__403_error__qSaCL"}},71178:function(e){e.exports={container:"table_container__f1mC4",button:"table_button__LF8_5",modal_icon:"table_modal_icon__t_aHR",danger_button:"table_danger_button__jpS_l",success_button:"table_success_button__lcGr5",color_viewer:"table_color_viewer__54oBu",search_bar:"table_search_bar__anNGy",search_bar_button:"table_search_bar_button__OjZ8a"}}},function(e){e.O(0,[7529,9734,1664,9774,2888,179],function(){return e(e.s=48045)}),_N_E=e.O()}]);