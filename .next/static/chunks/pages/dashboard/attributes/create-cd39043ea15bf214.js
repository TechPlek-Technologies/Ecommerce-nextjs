(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{86304:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/attributes/create",function(){return a(46868)}])},46868:function(e,t,a){"use strict";a.r(t);var n=a(85893),s=a(67294),l=a(22120),r=a(22920),c=a(83490),i=a.n(c),u=a(2022);let NewAttribute=()=>{let e=(0,s.useRef)(),[t,a]=(0,s.useState)([{name:"",value:""}]),{t:c}=(0,l.$G)(),handleInputChange=(e,n)=>{let{name:s,value:l}=e.target,r=[...t];r[n][s]=l,a(r)},handleRemoveClick=e=>{let n=[...t];n.splice(e,1),a(n)},submitHandler=async a=>{a.preventDefault();try{let a=document.getElementById("attr_form"),n=new FormData;n.append("name",e.current.value),n.append("value",JSON.stringify(t));let s=await (0,u.qC)("/api/attributes",n);s.success?(r.toast.success("Attribute Added Successfully"),a.reset()):r.toast.error("Something Went Wrong")}catch(e){console.log(e),r.toast.error("Something Went Wrong")}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-center pt-3 pb-5",children:c("Create New Attribute")}),(0,n.jsxs)("form",{id:"attr_form",onSubmit:submitHandler,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{htmlFor:"inp-1",className:"form-label",children:[c("Attribute Name"),"*"]}),(0,n.jsx)("input",{type:"text",id:"inp-1",ref:e,className:i().input+" form-control",required:!0})]}),(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("div",{className:"card-header",children:c("Attribute Value")}),(0,n.jsxs)("div",{className:"card-body",children:[t.map((e,t)=>(0,n.jsxs)("div",{className:"row mb-4",children:[(0,n.jsxs)("div",{className:"col-12 col-sm-5",children:[(0,n.jsx)("label",{className:"form-label",children:c("name")}),(0,n.jsx)("input",{type:"text",className:i().input+" form-control",name:"name",value:e.name,onChange:e=>handleInputChange(e,t)})]}),(0,n.jsxs)("div",{className:"col-12 col-sm-5",children:[(0,n.jsx)("label",{className:"form-label",children:c("Value")}),(0,n.jsx)("input",{type:"text",className:i().input+" form-control",name:"value",value:e.value,onChange:e=>handleInputChange(e,t)})]}),(0,n.jsx)("div",{className:"col-12 col-sm-2 d-flex align-items-end",children:(0,n.jsx)("button",{className:"btn btn-danger",type:"button",onClick:()=>handleRemoveClick(t),children:c("Remove")})})]},t)),(0,n.jsx)("button",{type:"button",className:"btn btn-success my-2",onClick:()=>{a([...t,{name:"",value:""}])},children:c("Add Value")})]})]}),(0,n.jsx)("div",{className:"my-4",children:(0,n.jsx)("input",{type:"submit",value:c("Add Attribute"),className:"btn btn-lg btn-success"})})]})]})};NewAttribute.requireAuthAdmin=!0,NewAttribute.dashboard=!0,t.default=NewAttribute},83490:function(e){e.exports={button_danger:"productForm_button_danger__HuxDf"}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=86304)}),_N_E=e.O()}]);