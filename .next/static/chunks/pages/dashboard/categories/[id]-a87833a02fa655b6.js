(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{67403:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/categories/[id]",function(){return a(65088)}])},65088:function(e,t,a){"use strict";a.r(t);var n=a(85893),s=a(5152),r=a.n(s),i=a(12918),o=a.n(i),d=a(11163),c=a(67294),l=a(22120),u=a(22920),p=a(59734),m=a(83490),g=a.n(m),b=a(2022);let f=r()(()=>a.e(8214).then(a.bind(a,18214)),{loadableGenerated:{webpack:()=>[18214]}}),h=r()(()=>Promise.all([a.e(7529),a.e(5675),a.e(5121),a.e(4504)]).then(a.bind(a,94504)),{loadableGenerated:{webpack:()=>[94504]}}),x=r()(()=>Promise.all([a.e(7529),a.e(8188)]).then(a.bind(a,76606)),{loadableGenerated:{webpack:()=>[76606]}}),EditCategory=()=>{let e=(0,d.useRouter)(),t="/api/categories/edit?id=".concat(e.query.id),{data:a,error:s}=(0,p.ZP)(e.query.id?t:null,b.gN),r=(0,c.useRef)(null),[i,m]=(0,c.useState)({}),[y,_]=(0,c.useState)([]),[j,C]=(0,c.useState)(""),{t:N}=(0,l.$G)();(0,c.useEffect)(()=>{a&&a.category&&(m(a.category),_(a.category.icon))},[a]);let submitHandler=async e=>{e.preventDefault();try{if(!y[0])return u.toast.warning("Please add category icon");C("loading");let e={id:i._id,name:r.current.value,categoryImage:y},t=await (0,b.qC)("/api/categories/edit",e);t.success?u.toast.success("Category Updated Successfully"):u.toast.error("Something Went Wrong"),C("")}catch(e){C(""),u.toast.error("Something Went Wrong ".concat(e.message))}};return(0,n.jsx)(n.Fragment,{children:s?(0,n.jsx)(o(),{statusCode:500}):a?i._id?(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"text-center pt-3 pb-5",children:[N("Edit Category")," (",i.name,")"]}),(0,n.jsxs)("form",{id:"category_form",onSubmit:submitHandler,children:[(0,n.jsx)("input",{type:"hidden",name:"id",defaultValue:i._id}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("label",{htmlFor:"inp-1",className:"form-label",children:[N("name"),"*"]}),(0,n.jsx)("input",{type:"text",id:"inp-1",className:g().input+" form-control",ref:r,defaultValue:i.name,required:!0})]}),(0,n.jsx)("div",{className:"mb-4 pt-2",children:(0,n.jsx)(h,{accept:".jpg,.png,.jpeg",label:"".concat(N("Replace category icon"),"*"),maxFileSizeInBytes:2e6,updateFilesCb:_,preSelectedFiles:i.icon})}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(x,{type:"submit",text:"Update Category",state:j})})]})]}):(0,n.jsx)(o(),{statusCode:404}):(0,n.jsx)(f,{})})};EditCategory.requireAuthAdmin=!0,EditCategory.dashboard=!0,t.default=EditCategory},83490:function(e){e.exports={button_danger:"productForm_button_danger__HuxDf"}},12918:function(e,t,a){e.exports=a(66908)},11163:function(e,t,a){e.exports=a(59974)}},function(e){e.O(0,[9734,9774,2888,179],function(){return e(e.s=67403)}),_N_E=e.O()}]);