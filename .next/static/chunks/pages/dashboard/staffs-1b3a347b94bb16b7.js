(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6402,5885,8214,922,2444],{40644:function(e,t,n){"use strict";n.d(t,{w:function(){return l}});var r=n(87462),a=n(67294),s=n(7529),l=a.forwardRef(function(e,t){return a.createElement(s.r,(0,r.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),a.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),a.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}))});l.displayName="PencilSquare"},25137:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var r=n(87462),a=n(67294),s=n(7529),l=a.forwardRef(function(e,t){return a.createElement(s.r,(0,r.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),a.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),a.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))});l.displayName="Trash"},39409:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/staffs",function(){return n(66746)}])},18214:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(31183),s=n.n(a);t.default=e=>{let{color:t}=e;return(0,r.jsx)("div",{className:s().container,children:(0,r.jsx)("div",{className:s().spinner})})}},42444:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(67294),s=n(59734),l=n(75885),i=n(2022),c=n(18214);let o=(0,a.forwardRef)((e,t)=>{let{data:n,error:o,mutate:d}=(0,s.ZP)(e.url?e.url:null,i.gN);return((0,a.useImperativeHandle)(t,()=>({update:()=>{d()}})),(0,a.useEffect)(()=>{n&&n.success&&e.setData(n)},[n]),o)?(0,r.jsx)(l.default,{}):n?n&&!n.success?(0,r.jsx)(l.default,{}):(0,r.jsxs)(r.Fragment,{children:[" ",e.children," "]}):(0,r.jsx)("div",{style:{height:"100vh"},children:(0,r.jsx)(c.default,{})})});t.default=o},75885:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(41664),s=n.n(a),l=n(69032),i=n.n(l);t.default=()=>(0,r.jsx)("div",{className:i().body,children:(0,r.jsx)("div",{className:i().body_container,children:(0,r.jsxs)("div",{className:i().ntfnd,children:[(0,r.jsx)("div",{className:i().error,children:(0,r.jsx)("h1",{children:"500"})}),(0,r.jsx)("h2",{children:"Oooops! Internal Server Error."}),(0,r.jsxs)("p",{children:["That is, something went terribly wrong. We suggest you to go back or visit here later",(0,r.jsx)("br",{}),(0,r.jsx)(s(),{href:"/",children:"Return to homepage"})]})]})})})},66746:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(25137),s=n(40644),l=n(5152),i=n.n(l),c=n(67294),o=n(22120),d=n(22920),u=n(71178),_=n.n(u),h=n(42444),b=n(2022);let m=i()(()=>Promise.all([n.e(3253),n.e(8505)]).then(n.bind(n,3347)),{loadableGenerated:{webpack:()=>[3347]}}),f=i()(()=>n.e(6494).then(n.bind(n,16494)),{loadableGenerated:{webpack:()=>[16494]}}),p=i()(()=>Promise.resolve().then(n.t.bind(n,41664,23)),{loadableGenerated:{webpack:()=>[41664]}}),SubscriberList=()=>{let[e,t]=(0,c.useState)({}),n=(0,c.useRef)(),[l,i]=(0,c.useState)(!1),[u,x]=(0,c.useState)(""),{t:v}=(0,o.$G)(),openModal=e=>{x(e),i(!0)},closeModal=()=>{i(!1)},deleteSubscriber=async()=>{i(!1),await (0,b.SR)("/api/users?id=".concat(u)).then(e=>e.success?(d.toast.success("Customer Deleted Successfully"),void n.current.update()):d.toast.error("Something Went Wrong")).catch(e=>{console.log(e),d.toast.error("Something Went Wrong")})},j=[{name:v("name"),selector:e=>e.name},{name:v("Surname"),selector:e=>e.isStaff.surname},{name:v("email"),selector:e=>e.email},{name:v("phone"),selector:e=>e.phone},{name:v("action"),selector:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:_().button,onClick:()=>openModal(e._id),children:(0,r.jsx)(a.r,{width:22,height:22,title:"DELETE"})}),(0,r.jsx)(p,{href:"/dashboard/staffs/".concat(e._id),children:(0,r.jsx)("div",{className:_().button,children:(0,r.jsx)(s.w,{width:22,height:22,title:"EDIT"})})})]})}];return(0,r.jsx)(h.default,{url:"/api/staffs",setData:t,ref:n,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-center pt-3 pb-5",children:v("Customers")}),(0,r.jsxs)("div",{className:_().container,children:[(0,r.jsx)(f,{columns:j,data:e.users||[],searchKey:"email",searchPlaceholder:v("email")}),(0,r.jsx)(m,{isOpen:l,handleCloseModal:closeModal,small:!0,children:(0,r.jsxs)("div",{className:_().modal_icon,children:[(0,r.jsx)(a.r,{width:90,height:90}),(0,r.jsx)("p",{children:"Are you sure, you want to delete?"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{className:_().danger_button,onClick:()=>deleteSubscriber(),children:"Delete"}),(0,r.jsx)("button",{className:_().success_button,onClick:()=>closeModal(),children:"Cancel"})]})]})})]})]})})};SubscriberList.requireAuthAdmin=!0,SubscriberList.dashboard=!0,t.default=SubscriberList},31183:function(e){e.exports={container:"spinner_container__Ce8dH",spinner:"spinner_spinner__eipLJ",spin:"spinner_spin__LDwbh"}},69032:function(e){e.exports={body:"__403_body__otBK_",body_container:"__403_body_container__ZHJj1",ntfnd:"__403_ntfnd__oD8dB",error:"__403_error__qSaCL"}},71178:function(e){e.exports={container:"table_container__f1mC4",button:"table_button__LF8_5",modal_icon:"table_modal_icon__t_aHR",danger_button:"table_danger_button__jpS_l",success_button:"table_success_button__lcGr5",color_viewer:"table_color_viewer__54oBu",search_bar:"table_search_bar__anNGy",search_bar_button:"table_search_bar_button__OjZ8a"}}},function(e){e.O(0,[7529,9734,1664,9774,2888,179],function(){return e(e.s=39409)}),_N_E=e.O()}]);