(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1272],{25137:function(e,t,s){"use strict";s.d(t,{r:function(){return c}});var a=s(87462),r=s(67294),n=s(7529),c=r.forwardRef(function(e,t){return r.createElement(n.r,(0,a.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),r.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))});c.displayName="Trash"},17664:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/subscribers",function(){return s(77316)}])},77316:function(e,t,s){"use strict";s.r(t);var a=s(85893),r=s(25137),n=s(5152),c=s.n(n),l=s(67294),i=s(22120),o=s(25617),u=s(22920),b=s(71178),d=s.n(b),_=s(2022);let h=c()(()=>Promise.all([s.e(3253),s.e(8505)]).then(s.bind(s,3347)),{loadableGenerated:{webpack:()=>[3347]}}),m=c()(()=>Promise.all([s.e(9734),s.e(1664),s.e(2444)]).then(s.bind(s,42444)),{loadableGenerated:{webpack:()=>[42444]}}),f=c()(()=>s.e(6494).then(s.bind(s,16494)),{loadableGenerated:{webpack:()=>[16494]}}),SubscriberList=()=>{let[e,t]=(0,l.useState)({subscribers:{subscribers:[]}}),s=(0,l.useRef)(),[n,c]=(0,l.useState)(!1),[b,p]=(0,l.useState)(""),{session:w}=(0,o.v9)(e=>e.localSession),[v,S]=(0,l.useState)({}),{t:x}=(0,i.$G)();(0,l.useEffect)(()=>{S((0,_.wn)(w,"subscriber"))},[w]);let openModal=e=>{p(e),c(!0)},closeModal=()=>{c(!1)},deleteSubscriber=async()=>{c(!1),await (0,_.SR)("/api/subscribers?id=".concat(b)).then(e=>e.success?(u.toast.success("Subscriber Deleted Successfully"),void s.current.update()):u.toast.error("Something Went Wrong")).catch(e=>{console.log(e),u.toast.error("Something Went Wrong")})},j=[{name:x("email"),selector:e=>e.email},{name:x("Subscription Date"),selector:e=>(0,_.vc)(e.date),sortable:!0},{name:x("action"),selector:e=>v.delete&&(0,a.jsx)("div",{className:d().button,onClick:()=>openModal(e._id),children:(0,a.jsx)(r.r,{width:22,height:22,title:"DELETE"})})}];return(0,a.jsx)(m,{url:"/api/subscribers",setData:t,ref:s,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-center pt-3 pb-5",children:x("Subscribers")}),(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsx)(f,{data:e.subscribers.subscribers||[],columns:j,searchKey:"email",searchPlaceholder:x("email")}),(0,a.jsx)(h,{isOpen:n,handleCloseModal:closeModal,small:!0,children:(0,a.jsxs)("div",{className:d().modal_icon,children:[(0,a.jsx)(r.r,{width:90,height:90}),(0,a.jsx)("p",{children:"Are you sure, you want to delete?"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{className:d().danger_button,onClick:()=>deleteSubscriber(),children:"Delete"}),(0,a.jsx)("button",{className:d().success_button,onClick:()=>closeModal(),children:"Cancel"})]})]})})]})]})})};SubscriberList.requireAuthAdmin=!0,SubscriberList.dashboard=!0,t.default=SubscriberList},71178:function(e){e.exports={container:"table_container__f1mC4",button:"table_button__LF8_5",modal_icon:"table_modal_icon__t_aHR",danger_button:"table_danger_button__jpS_l",success_button:"table_success_button__lcGr5",color_viewer:"table_color_viewer__54oBu",search_bar:"table_search_bar__anNGy",search_bar_button:"table_search_bar_button__OjZ8a"}}},function(e){e.O(0,[7529,9774,2888,179],function(){return e(e.s=17664)}),_N_E=e.O()}]);