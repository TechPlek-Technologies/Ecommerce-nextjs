(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{40644:function(e,t,l){"use strict";l.d(t,{w:function(){return c}});var a=l(87462),s=l(67294),r=l(7529),c=s.forwardRef(function(e,t){return s.createElement(r.r,(0,a.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),s.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),s.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}))});c.displayName="PencilSquare"},25137:function(e,t,l){"use strict";l.d(t,{r:function(){return c}});var a=l(87462),s=l(67294),r=l(7529),c=s.forwardRef(function(e,t){return s.createElement(r.r,(0,a.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),s.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),s.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))});c.displayName="Trash"},87651:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/page/home",function(){return l(26981)}])},26981:function(e,t,l){"use strict";l.r(t);var a=l(85893),s=l(25137),r=l(40644),c=l(5152),i=l.n(c),n=l(67294),d=l(22120),o=l(25617),h=l(22920),u=l(59734),m=l(71178),b=l.n(m),p=l(2022);let x=i()(()=>l.e(8214).then(l.bind(l,18214)),{loadableGenerated:{webpack:()=>[18214]}}),j=i()(()=>Promise.all([l.e(3253),l.e(8505)]).then(l.bind(l,3347)),{loadableGenerated:{webpack:()=>[3347]}}),g=i()(()=>l.e(6606).then(l.bind(l,76606)),{loadableGenerated:{webpack:()=>[76606]}}),f=i()(()=>l.e(1266).then(l.bind(l,51266)),{loadableGenerated:{webpack:()=>[51266]}}),v=i()(()=>Promise.all([l.e(5675),l.e(5121),l.e(7743)]).then(l.bind(l,94504)),{loadableGenerated:{webpack:()=>[94504]}}),w=i()(()=>l.e(6494).then(l.bind(l,16494)),{loadableGenerated:{webpack:()=>[16494]}}),N=i()(()=>Promise.all([l.e(5675),l.e(5121),l.e(9363)]).then(l.bind(l,28425)),{loadableGenerated:{webpack:()=>[28425]}}),_=i()(()=>Promise.all([l.e(5675),l.e(9010)]).then(l.bind(l,59010)),{loadableGenerated:{webpack:()=>[59010]}}),HomePageSetting=()=>{var e,t,l,c;let{data:i,error:m,mutate:C}=(0,u.ZP)("/api/page",p.gN),[y,S]=(0,n.useState)({}),[k,A]=(0,n.useState)([]),[F,E]=(0,n.useState)([]),[P,R]=(0,n.useState)(""),[B,V]=(0,n.useState)({}),[q,D]=(0,n.useState)(""),[T,z]=(0,n.useState)(!1),[H,I]=(0,n.useState)(""),M=(0,n.useRef)(),G=(0,n.useRef)(),L=(0,n.useRef)(),U=(0,n.useRef)(),O=(0,n.useRef)(),[Z,W]=(0,n.useState)([]),X=(0,n.useRef)(),K=(0,n.useRef)(),$=(0,n.useRef)(),J=(0,n.useRef)(),[Q,Y]=(0,n.useState)([]),[ee,et]=(0,n.useState)({title:"",url:""}),[el,ea]=(0,n.useState)(""),es=(0,n.useRef)(),er=(0,n.useRef)(),{t:ec}=(0,d.$G)();(0,n.useEffect)(()=>{i&&i.page&&(S(i.page.homePage),E(i.page.homePage.carousel.background),W(i.page.homePage.banner.image))},[i]);let{session:ei}=(0,o.v9)(e=>e.localSession),[en,ed]=(0,n.useState)({});(0,n.useEffect)(()=>{ed((0,p.wn)(ei,"pageSettings"))},[ei]);let openModal=e=>{I(e),z(!0)},closeModal=()=>{z(!1)},deleteCarouselItem=async()=>{z(!1),await (0,p.SR)("/api/page/home?id=".concat(H,"&scope=carousel")).then(e=>e.success?(h.toast.success("Item Deleted Successfully"),C()):h.toast.error("Something Went Wrong")).catch(e=>{h.toast.error(e.message)})},handleCarouselAdd=async e=>{e.preventDefault();try{if(!k[0])return h.toast.warn("Please add image");D("loading");let e={title:G.current.value.trim(),subTitle:L.current.value.trim(),description:U.current.value.trim(),url:O.current.value.trim(),image:k},{success:t,err:l}=await (0,p.qC)("/api/page/home?scope=carousel",e);t?(h.toast.success("Item Added Successfully"),R("reset"),M.current.reset(),C()):h.toast.error(l),D("")}catch(e){D(""),h.toast.error(e.message)}},handleCarouselBackground=async()=>{try{if(!F[0])return h.toast.warn("Please add image");D("loading");let{success:e,err:t}=await (0,p.qC)("/api/page/home?scope=background",{background:F});e?h.toast.success("Background Image Added Successfully"):h.toast.error(t),D("")}catch(e){D(""),h.toast.error(e.message)}},handleBannerAdd=async e=>{e.preventDefault();try{if(!Z[0])return h.toast.warn("Please add image");D("loading");let e={title:X.current.value.trim(),subTitle:K.current.value.trim(),description:$.current.value.trim(),url:J.current.value.trim(),image:Z},{success:t,err:l}=await (0,p.qC)("/api/page/home?scope=banner",e);t?h.toast.success("Item Updated Successfully"):h.toast.error(l),D("")}catch(e){D(""),h.toast.error(e.message)}},editCollection=e=>{ea(""),setTimeout(()=>{let{title:t,url:l,image:a}=y.collection[e];Y(a),et({title:t,url:l}),ea(e)},100)},handleCollectionAdd=async e=>{e.preventDefault();try{D("loading");let e={title:es.current.value.trim(),url:er.current.value.trim(),image:Q},{success:t,err:l}=await (0,p.qC)("/api/page/home?scope=collection&dataScope=".concat(el),e);t?(h.toast.success("Item Updated Successfully"),Y([]),et({title:"",url:""}),ea(""),C()):h.toast.error(l),D("")}catch(e){D(""),h.toast.error(e.message)}},eo=[{name:ec("Title"),selector:e=>e.title},{name:ec("URL"),selector:e=>e.url,sortable:!0},{name:ec("image"),selector:e=>{var t;return(0,a.jsx)(_,{src:null===(t=e.image[0])||void 0===t?void 0:t.url,alt:e.title,width:50,height:50})}},{name:ec("action"),selector:e=>(0,a.jsxs)(a.Fragment,{children:[en.delete&&(0,a.jsx)("div",{className:b().button,onClick:()=>openModal(e.id),children:(0,a.jsx)(s.r,{width:22,height:22,title:"DELETE"})}),en.edit&&(0,a.jsx)("div",{className:b().button,onClick:()=>V(e),children:(0,a.jsx)(r.w,{width:22,height:22,title:"Edit"})})]})}];return(0,a.jsxs)(a.Fragment,{children:[m?(0,a.jsx)("div",{className:"text-center text-danger",children:"failed to load"}):y.carousel?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"card border-0 shadow mb-5",children:[(0,a.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:ec("Header carousel")}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)(w,{columns:eo,data:y.carousel.carouselData,searchKey:"title",searchPlaceholder:"Title"}),en.edit&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{title:ec("Add new header carousel item"),children:(0,a.jsxs)("form",{onSubmit:handleCarouselAdd,ref:M,children:[(0,a.jsx)("div",{className:"pb-0",children:(0,a.jsx)(v,{accept:".jpg,.png,.jpeg",label:"".concat(ec("image"),"(750px x 750px)*"),maxFileSizeInBytes:2e6,updateFilesCb:A,resetCb:P})}),(0,a.jsxs)("div",{className:"pb-3",children:[(0,a.jsxs)("label",{htmlFor:"header-title",className:"form-label",children:[ec("title"),"*"]}),(0,a.jsx)("input",{type:"text",id:"header-title",className:"form-control",required:!0,ref:G})]}),(0,a.jsxs)("div",{className:"pb-3",children:[(0,a.jsxs)("label",{htmlFor:"header-subtitle",className:"form-label",children:[ec("Subtitle"),"*"]}),(0,a.jsx)("input",{type:"text",id:"header-subtitle",className:"form-control",required:!0,ref:L})]}),(0,a.jsxs)("div",{className:"pb-3",children:[(0,a.jsxs)("label",{htmlFor:"header-desc",className:"form-label",children:[ec("description"),"*"]}),(0,a.jsx)("textarea",{id:"header-desc",className:"form-control",required:!0,ref:U})]}),(0,a.jsxs)("div",{className:"pb-5",children:[(0,a.jsxs)("label",{htmlFor:"header-url",className:"form-label",children:[ec("URL"),"*"]}),(0,a.jsx)("input",{type:"text",id:"header-url",className:"form-control",required:!0,ref:O})]}),(0,a.jsx)("div",{className:"pb-0",children:(0,a.jsx)(g,{text:ec("Add Item"),type:"submit",state:q})})]})}),(0,a.jsxs)(f,{title:ec("Header carousel background"),children:[(0,a.jsx)("div",{className:"pb-0",children:(0,a.jsx)(v,{accept:".jpg,.png,.jpeg",label:"".concat(ec("image"),"(1920px x 800px)*"),maxFileSizeInBytes:2e6,updateFilesCb:E,preSelectedFiles:F})}),(0,a.jsx)("div",{children:(0,a.jsx)(g,{text:ec("Add Background Image"),state:q,clickEvent:handleCarouselBackground})})]})]})]})]}),(0,a.jsxs)("div",{className:"card border-0 shadow mb-5",children:[(0,a.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:ec("Banner")}),(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("form",{onSubmit:handleBannerAdd,children:[(0,a.jsx)("div",{className:"pb-0",children:(0,a.jsx)(v,{accept:".jpg,.png,.jpeg",label:"".concat(ec("image"),"(1920px x 750px)*"),maxFileSizeInBytes:2e6,updateFilesCb:W,preSelectedFiles:Z})}),(0,a.jsxs)("div",{className:"pb-3",children:[(0,a.jsxs)("label",{htmlFor:"banner-title",className:"form-label",children:[ec("Title"),"*"]}),(0,a.jsx)("input",{type:"text",id:"banner-title",className:"form-control",required:!0,ref:X,defaultValue:y.banner.title})]}),(0,a.jsxs)("div",{className:"pb-3",children:[(0,a.jsxs)("label",{htmlFor:"banner-subtitle",className:"form-label",children:[ec("Subtitle"),"*"]}),(0,a.jsx)("input",{type:"text",id:"banner-subtitle",className:"form-control",required:!0,ref:K,defaultValue:y.banner.subTitle})]}),(0,a.jsxs)("div",{className:"pb-3",children:[(0,a.jsxs)("label",{htmlFor:"banner-desc",className:"form-label",children:[ec("description"),"*"]}),(0,a.jsx)("textarea",{id:"banner-desc",className:"form-control",required:!0,ref:$,defaultValue:y.banner.description})]}),(0,a.jsxs)("div",{className:"pb-5",children:[(0,a.jsxs)("label",{htmlFor:"banner-url",className:"form-label",children:[ec("URL"),"*"]}),(0,a.jsx)("input",{type:"text",id:"banner-url",className:"form-control",required:!0,ref:J,defaultValue:y.banner.url})]}),en.edit&&(0,a.jsx)("div",{className:"pb-0",children:(0,a.jsx)(g,{text:ec("UPDATE"),type:"submit",state:q})})]})})]}),(0,a.jsxs)("div",{className:"card border-0 shadow mb-5",children:[(0,a.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:ec("Product Review Card")}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("div",{className:"table-responsive mb-4",children:(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",children:"#"}),(0,a.jsx)("th",{scope:"col",children:ec("image")}),(0,a.jsx)("th",{scope:"col",children:ec("Title")}),(0,a.jsx)("th",{scope:"col",children:ec("Link")}),(0,a.jsx)("th",{scope:"col",children:ec("action")})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"row",children:"1"}),(0,a.jsx)("td",{children:y.collection.scopeA.image[0]&&(0,a.jsx)(_,{src:null===(e=y.collection.scopeA.image[0])||void 0===e?void 0:e.url,width:40,height:40,alt:y.collection.scopeA.title})}),(0,a.jsx)("td",{children:y.collection.scopeA.title}),(0,a.jsx)("td",{children:y.collection.scopeA.url}),en.edit&&(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:b().button,onClick:()=>editCollection("scopeA"),children:(0,a.jsx)(r.w,{width:22,height:22,title:"Edit"})})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"row",children:"2"}),(0,a.jsx)("td",{children:y.collection.scopeB.image[0]&&(0,a.jsx)(_,{src:null===(t=y.collection.scopeB.image[0])||void 0===t?void 0:t.url,width:40,height:40,alt:y.collection.scopeB.title})}),(0,a.jsx)("td",{children:y.collection.scopeB.title}),(0,a.jsx)("td",{children:y.collection.scopeB.url}),en.edit&&(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:b().button,onClick:()=>editCollection("scopeB"),children:(0,a.jsx)(r.w,{width:22,height:22,title:"Edit"})})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"row",children:"3"}),(0,a.jsx)("td",{children:y.collection.scopeC.image[0]&&(0,a.jsx)(_,{src:null===(l=y.collection.scopeC.image[0])||void 0===l?void 0:l.url,width:40,height:40,alt:y.collection.scopeC.title})}),(0,a.jsx)("td",{children:y.collection.scopeC.title}),(0,a.jsx)("td",{children:y.collection.scopeC.url}),en.edit&&(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:b().button,onClick:()=>editCollection("scopeC"),children:(0,a.jsx)(r.w,{width:22,height:22,title:"Edit"})})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"row",children:"4"}),(0,a.jsx)("td",{children:y.collection.scopeD.image[0]&&(0,a.jsx)(_,{src:null===(c=y.collection.scopeD.image[0])||void 0===c?void 0:c.url,width:40,height:40,alt:y.collection.scopeD.title})}),(0,a.jsx)("td",{children:y.collection.scopeD.title}),(0,a.jsx)("td",{children:y.collection.scopeD.url}),en.edit&&(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:b().button,onClick:()=>editCollection("scopeD"),children:(0,a.jsx)(r.w,{width:22,height:22,title:"Edit"})})})]})]})]})}),el.length>0&&(0,a.jsx)("div",{className:"p-2 border",children:(0,a.jsxs)("form",{onSubmit:handleCollectionAdd,children:[(0,a.jsx)("div",{className:"pb-0",children:(0,a.jsx)(v,{accept:".jpg,.png,.jpeg",label:"".concat(ec("image"),"*"),maxFileSizeInBytes:2e6,updateFilesCb:Y,preSelectedFiles:Q})}),(0,a.jsxs)("div",{className:"pb-3",children:[(0,a.jsxs)("label",{htmlFor:"banner-title",className:"form-label",children:[ec("Title"),"*"]}),(0,a.jsx)("input",{type:"text",id:"banner-title",className:"form-control",required:!0,ref:es,defaultValue:ee.title})]}),(0,a.jsxs)("div",{className:"pb-5",children:[(0,a.jsxs)("label",{htmlFor:"banner-url",className:"form-label",children:[ec("URL"),"*"]}),(0,a.jsx)("input",{type:"text",id:"banner-url",className:"form-control",required:!0,ref:er,defaultValue:ee.url})]}),(0,a.jsx)("div",{className:"pb-0",children:(0,a.jsx)(g,{text:ec("UPDATE"),type:"submit",state:q})})]})})]})]})]}):(0,a.jsx)(x,{}),(0,a.jsx)(j,{isOpen:T,handleCloseModal:closeModal,small:!0,children:(0,a.jsxs)("div",{className:b().modal_icon,children:[(0,a.jsx)(s.r,{width:90,height:90}),(0,a.jsx)("p",{className:"mb-1",children:"Are you sure, you want to delete?"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{className:b().danger_button,onClick:()=>deleteCarouselItem(),children:"Delete"}),(0,a.jsx)("button",{className:b().success_button,onClick:()=>closeModal(),children:"Cancel"})]})]})}),(0,a.jsx)(j,{isOpen:!!B.id,handleCloseModal:()=>V({}),small:!1,children:(0,a.jsx)(N,{data:B,mutate:C,close:()=>V({})})})]})};HomePageSetting.requireAuthAdmin=!0,HomePageSetting.dashboard=!0,t.default=HomePageSetting},71178:function(e){e.exports={container:"table_container__f1mC4",button:"table_button__LF8_5",modal_icon:"table_modal_icon__t_aHR",danger_button:"table_danger_button__jpS_l",success_button:"table_success_button__lcGr5",color_viewer:"table_color_viewer__54oBu",search_bar:"table_search_bar__anNGy",search_bar_button:"table_search_bar_button__OjZ8a"}}},function(e){e.O(0,[7529,9734,9774,2888,179],function(){return e(e.s=87651)}),_N_E=e.O()}]);