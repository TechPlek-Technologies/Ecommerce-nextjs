(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3220],{18779:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/page/privacy",function(){return t(84665)}])},84665:function(e,a,t){"use strict";t.r(a);var s=t(85893),n=t(5152),c=t.n(n),i=t(12918),r=t.n(i),l=t(67294),u=t(22120),o=t(25617),d=t(22920),p=t(59734),g=t(2022);let h=c()(()=>t.e(8214).then(t.bind(t,18214)),{loadableGenerated:{webpack:()=>[18214]}}),b=c()(()=>Promise.all([t.e(9810),t.e(9460)]).then(t.bind(t,49460)),{loadableGenerated:{webpack:()=>[49460]}}),P=c()(()=>Promise.all([t.e(7529),t.e(8188)]).then(t.bind(t,76606)),{loadableGenerated:{webpack:()=>[76606]}}),PrivacyPageSetup=()=>{let[e,a]=(0,l.useState)(""),[t,n]=(0,l.useState)(""),{t:c}=(0,u.$G)(),{data:i,error:v}=(0,p.ZP)("/api/page",g.gN);(0,l.useEffect)(()=>{i&&i.page&&a(i.page.privacyPage.content)},[i]);let{session:w}=(0,o.v9)(e=>e.localSession),[f,y]=(0,l.useState)({});(0,l.useEffect)(()=>{y((0,g.wn)(w,"pageSettings"))},[w]);let handleSubmit=async()=>{n("loading");try{let a=await (0,g.qC)("/api/page?scope=privacy",{content:e});a.success?d.toast.success("Page updated successfully!"):d.toast.error("Something went wrong 500")}catch(e){console.log(e),d.toast.error("Something went wrong ",e.message)}n("")};return(0,s.jsx)(s.Fragment,{children:v?(0,s.jsx)(r(),{statusCode:500}):i?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"py-3",children:[(0,s.jsx)("h1",{className:"h3 text-center pb-3",children:c("privacy_policy")}),(0,s.jsx)(b,{previousValue:e,updatedValue:e=>{a(e)}})]}),f.edit&&(0,s.jsx)("div",{className:"py-3",children:(0,s.jsx)(P,{text:c("UPDATE"),state:t,clickEvent:handleSubmit})})]}):(0,s.jsx)(h,{})})};PrivacyPageSetup.requireAuthAdmin=!0,PrivacyPageSetup.dashboard=!0,a.default=PrivacyPageSetup},12918:function(e,a,t){e.exports=t(66908)}},function(e){e.O(0,[9734,9774,2888,179],function(){return e(e.s=18779)}),_N_E=e.O()}]);