(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8610,5885,8214,922,2444],{40644:function(e,a,t){"use strict";t.d(a,{w:function(){return i}});var s=t(87462),r=t(67294),n=t(7529),i=r.forwardRef(function(e,a){return r.createElement(n.r,(0,s.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:a}),r.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),r.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}))});i.displayName="PencilSquare"},25137:function(e,a,t){"use strict";t.d(a,{r:function(){return i}});var s=t(87462),r=t(67294),n=t(7529),i=r.forwardRef(function(e,a){return r.createElement(n.r,(0,s.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:a}),r.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))});i.displayName="Trash"},62622:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/shipping",function(){return t(68294)}])},18214:function(e,a,t){"use strict";t.r(a);var s=t(85893),r=t(31183),n=t.n(r);a.default=e=>{let{color:a}=e;return(0,s.jsx)("div",{className:n().container,children:(0,s.jsx)("div",{className:n().spinner})})}},42444:function(e,a,t){"use strict";t.r(a);var s=t(85893),r=t(67294),n=t(59734),i=t(75885),l=t(2022),c=t(18214);let o=(0,r.forwardRef)((e,a)=>{let{data:t,error:o,mutate:d}=(0,n.ZP)(e.url?e.url:null,l.gN);return((0,r.useImperativeHandle)(a,()=>({update:()=>{d()}})),(0,r.useEffect)(()=>{t&&t.success&&e.setData(t)},[t]),o)?(0,s.jsx)(i.default,{}):t?t&&!t.success?(0,s.jsx)(i.default,{}):(0,s.jsxs)(s.Fragment,{children:[" ",e.children," "]}):(0,s.jsx)("div",{style:{height:"100vh"},children:(0,s.jsx)(c.default,{})})});a.default=o},75885:function(e,a,t){"use strict";t.r(a);var s=t(85893),r=t(41664),n=t.n(r),i=t(69032),l=t.n(i);a.default=()=>(0,s.jsx)("div",{className:l().body,children:(0,s.jsx)("div",{className:l().body_container,children:(0,s.jsxs)("div",{className:l().ntfnd,children:[(0,s.jsx)("div",{className:l().error,children:(0,s.jsx)("h1",{children:"500"})}),(0,s.jsx)("h2",{children:"Oooops! Internal Server Error."}),(0,s.jsxs)("p",{children:["That is, something went terribly wrong. We suggest you to go back or visit here later",(0,s.jsx)("br",{}),(0,s.jsx)(n(),{href:"/",children:"Return to homepage"})]})]})})})},68294:function(e,a,t){"use strict";t.r(a);var s=t(85893),r=t(25137),n=t(40644),i=t(5152),l=t.n(i),c=t(67294),o=t(22120),d=t(25617),u=t(22920),h=t(71178),p=t.n(h),m=t(42444),g=t(2022);let _=l()(()=>Promise.all([t.e(3253),t.e(8505)]).then(t.bind(t,3347)),{loadableGenerated:{webpack:()=>[3347]}}),b=l()(()=>t.e(6606).then(t.bind(t,76606)),{loadableGenerated:{webpack:()=>[76606]}}),f=l()(()=>t.e(6494).then(t.bind(t,16494)),{loadableGenerated:{webpack:()=>[16494]}}),ShippingCharges=()=>{let[e,a]=(0,c.useState)(""),[t,i]=(0,c.useState)(""),[l,h]=(0,c.useState)(null),[x,j]=(0,c.useState)([]),[v,w]=(0,c.useState)({}),[N,y]=(0,c.useState)(!1),{t:S}=(0,o.$G)();(0,c.useEffect)(()=>{l&&l.shippingCharge&&j(l.shippingCharge.area)},[l]);let C=(0,d.v9)(e=>e.settings),A=C.settingsData.currency.symbol,{session:E}=(0,d.v9)(e=>e.localSession),[D,M]=(0,c.useState)({});(0,c.useEffect)(()=>{M((0,g.wn)(E,"shippingCharges"))},[E]);let V=(0,c.useRef)(),R=(0,c.useRef)(),k=(0,c.useRef)(),P=(0,c.useRef)(),I=(0,c.useRef)(),q=(0,c.useRef)(),H=(0,c.useRef)();function updatePageData(){H.current.update()}let openModal=(e,a,t,s)=>{w({id:e,name:a,price:t,action:s}),y(!0)},closeModal=()=>{y(!1)},addShippingArea=async e=>{try{e.preventDefault(),a("loading");let t={areaName:V.current.value.trim(),areaCost:R.current.value},s=await (0,g.qC)("/api/shipping?scope=area",t);s.success?(u.toast.success("Shipping charge added successfully"),k.current.reset(),updatePageData()):u.toast.error("Something went wrong (500)"),a("")}catch(e){console.log(e),u.toast.error(e.message),a("")}},addInternationalCharge=async e=>{try{e.preventDefault(),i("loading");let a={amount:P.current.value},t=await (0,g.qC)("/api/shipping?scope=international",a);t.success?u.toast.success("International shipping charge added successfully"):u.toast.error("Something went wrong (500)"),i("")}catch(e){console.log(e),u.toast.error(e.message),i("")}},deleteShippingItem=async()=>{try{let e=await (0,g.SR)("/api/shipping",{id:v.id});e.success?(u.toast.success("Shipping charge deleted successfully"),updatePageData()):u.toast.error("Something went wrong (500)"),closeModal()}catch(e){console.log(e),u.toast.error(e.message)}},editShippingItem=async e=>{try{e.preventDefault();let a={name:I.current.value.trim(),cost:q.current.value,id:v.id},t=await (0,g.VA)("/api/shipping",a);t.success?(u.toast.success("Shipping charge updated successfully"),updatePageData()):u.toast.error("Something went wrong (500)"),closeModal()}catch(e){console.log(e),u.toast.error(e.message)}},z=[{name:S("Area Name"),selector:e=>e.name,sortable:!0,grow:1},{name:S("Shipping Cost"),selector:e=>e.price+A},{name:S("actions"),selector:e=>(0,s.jsxs)("div",{children:[D.delete&&(0,s.jsx)("div",{className:p().button,onClick:()=>openModal(e._id,e.name,e.price,"delete"),children:(0,s.jsx)(r.r,{width:22,height:22,title:"DELETE"})}),D.edit&&(0,s.jsx)("div",{className:p().button,children:(0,s.jsx)(n.w,{width:22,height:22,title:"EDIT",onClick:()=>openModal(e._id,e.name,e.price,"edit")})})]})}];return(0,s.jsx)(m.default,{url:"/api/shipping",setData:h,ref:H,children:l&&(0,s.jsxs)(s.Fragment,{children:[D.edit&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,s.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:S("Add New Shipping Area")}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsx)("form",{onSubmit:addShippingArea,ref:k,children:(0,s.jsxs)("div",{className:"input-group mb-3",children:[(0,s.jsx)("input",{type:"text",required:!0,placeholder:"Area Name*",ref:V,className:"form-control"}),(0,s.jsx)("input",{type:"number",min:"0",required:!0,placeholder:"".concat(S("Charge For The Area")," (").concat(A,")*"),ref:R,className:"form-control"}),(0,s.jsx)("div",{className:"input-group-append",children:(0,s.jsx)(b,{type:"submit",text:S("ADD"),state:e})})]})})})]}),(0,s.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,s.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:S("International Shipping Charge")}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsx)("form",{onSubmit:addInternationalCharge,children:(0,s.jsxs)("div",{className:"input-group mb-3",children:[(0,s.jsx)("input",{type:"number",min:"0",required:!0,placeholder:"".concat(S("Charge Amount")," (").concat(A,")*"),ref:P,defaultValue:l.shippingCharge&&l.shippingCharge.internationalCost,className:"form-control"}),(0,s.jsx)("div",{className:"input-group-append",children:(0,s.jsx)(b,{type:"submit",text:S("UPDATE"),state:t})})]})})})]})]}),(0,s.jsxs)("div",{className:"card mb-5 border-0 shadow",children:[(0,s.jsx)("div",{className:"card-header bg-white py-3 fw-bold",children:S("Shipping Area")}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsx)("div",{className:p().container,children:(0,s.jsx)(f,{columns:z,data:x,searchKey:"name",searchPlaceholder:S("name")})})})]}),(0,s.jsx)(_,{isOpen:N,handleCloseModal:closeModal,small:!0,children:"delete"===v.action?(0,s.jsxs)("div",{className:p().modal_icon,children:[(0,s.jsx)(r.r,{width:90,height:90}),(0,s.jsx)("p",{children:"Are you sure, you want to delete?"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:p().danger_button,onClick:deleteShippingItem,children:"Delete"}),(0,s.jsx)("button",{className:p().success_button,onClick:closeModal,children:"Cancel"})]})]}):(0,s.jsx)("div",{className:"pt-5 pb-3",children:(0,s.jsxs)("form",{onSubmit:editShippingItem,children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("label",{htmlFor:"inp-1",className:"form-label",children:[S("Area Name"),"*"]}),(0,s.jsx)("input",{type:"text",id:"inp-1",ref:I,className:"form-control",defaultValue:v.name,required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{htmlFor:"inp-2",className:"form-label",children:[S("Area Charge"),"*"]}),(0,s.jsx)("input",{type:"number",id:"inp-2",ref:q,className:"form-control",defaultValue:v.price,required:!0})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("button",{type:"submit",className:p().success_button,children:S("UPDATE")}),(0,s.jsx)("button",{type:"button",className:p().danger_button,onClick:()=>closeModal(),children:S("Cancel")})]})]})})})]})})};ShippingCharges.requireAuthAdmin=!0,ShippingCharges.dashboard=!0,a.default=ShippingCharges},31183:function(e){e.exports={container:"spinner_container__Ce8dH",spinner:"spinner_spinner__eipLJ",spin:"spinner_spin__LDwbh"}},69032:function(e){e.exports={body:"__403_body__otBK_",body_container:"__403_body_container__ZHJj1",ntfnd:"__403_ntfnd__oD8dB",error:"__403_error__qSaCL"}},71178:function(e){e.exports={container:"table_container__f1mC4",button:"table_button__LF8_5",modal_icon:"table_modal_icon__t_aHR",danger_button:"table_danger_button__jpS_l",success_button:"table_success_button__lcGr5",color_viewer:"table_color_viewer__54oBu",search_bar:"table_search_bar__anNGy",search_bar_button:"table_search_bar_button__OjZ8a"}}},function(e){e.O(0,[7529,9734,1664,9774,2888,179],function(){return e(e.s=62622)}),_N_E=e.O()}]);