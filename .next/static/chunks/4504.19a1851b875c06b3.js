(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4504,9010,7743],{25137:function(e,a,l){"use strict";l.d(a,{r:function(){return n}});var t=l(87462),i=l(67294),r=l(7529),n=i.forwardRef(function(e,a){return i.createElement(r.r,(0,t.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:a}),i.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),i.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))});n.displayName="Trash"},81058:function(e,a,l){"use strict";l.d(a,{g:function(){return n}});var t=l(87462),i=l(67294),r=l(7529),n=i.forwardRef(function(e,a){return i.createElement(r.r,(0,t.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:a}),i.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}),i.createElement("path",{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"}))});n.displayName="Upload"},94504:function(e,a,l){"use strict";l.r(a);var t=l(85893),i=l(81058),r=l(25137),n=l(5121),o=l(67294),s=l(22920),d=l(59010),c=l(20053),p=l.n(c);a.default=e=>{let{label:a,updateFilesCb:l,maxFileSizeInBytes:c,preSelectedFiles:u,resetCb:m,...f}=e,h=(0,o.useRef)(null),[v,w]=(0,o.useState)(u||[]),[g,_]=(0,o.useState)("");(0,o.useEffect)(()=>{"reset"===m&&w([])},[m]);let addNewFilesLocal=async e=>{try{_("Uploading...");let a=new FormData;a.append("file",e);let l=await (0,n.default)({method:"post",url:"/api/fileupload/local",data:a,headers:{"Content-Type":"multipart/form-data"}}).then(e=>e.data);if(l.success)return _(""),{name:l.name,url:l.url};throw Error("Something Went Wrong "+l.err)}catch(e){_(e.message)}},callUpdateFilesCb=e=>{l(e)},handleNewFileUpload=async e=>{let{files:a}=e.target;if(a.length){if(a[0].size<=c){let e=await addNewFilesLocal(a[0]);e&&(f.multiple?(w([...v,e]),callUpdateFilesCb([...v,e])):(w([e]),callUpdateFilesCb([e])))}else s.toast.warning("File size is too large (Max 2mb)")}},removeFile=async e=>{try{_("Deleting...");let{success:a,err:l}=await (0,n.default)({method:"DELETE",url:"/api/fileupload/".concat("local","?name=").concat(e)}).then(e=>e.data);if(a){let a=v.filter(a=>a.name!==e);w(a),callUpdateFilesCb(a)}else s.toast.error(l)}catch(e){console.log(e),s.toast.error("Something Went Wrong - ".concat(e.message))}_("")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:p().fileUploadContainer,children:[(0,t.jsx)("label",{className:p().inputLabel,children:a}),(0,t.jsx)("p",{className:p().dragDropText,children:"Drag and drop your files anywhere or"}),(0,t.jsxs)("button",{className:p().uploadFileBtn,type:"button",onClick:()=>{h.current.click()},children:[(0,t.jsx)("div",{children:(0,t.jsx)(i.g,{width:22,height:22})}),(0,t.jsxs)("span",{children:[" Upload ",f.multiple?"files":"a file"]})]}),(0,t.jsx)("input",{className:p().formField,type:"file",ref:h,onChange:handleNewFileUpload,title:"",value:"",...f})]}),g.length>0&&(0,t.jsx)("div",{className:"text-danger my-2",children:g}),(0,t.jsxs)("div",{className:p().filePreviewContainer,children:[(0,t.jsx)("span",{children:"To Upload"}),(0,t.jsx)("div",{className:p().previewList,children:v.map((e,a)=>(0,t.jsx)("div",{className:p().previewContainer,children:(0,t.jsxs)("div",{className:p().previewItem,children:[(0,t.jsx)(d.default,{className:p().imagePreview,src:e.url,alt:e.name,width:100,height:100}),(0,t.jsx)("aside",{children:(0,t.jsx)(r.r,{width:18,height:18,className:p().removeFileIcon,onClick:()=>removeFile(e.name)})})]})},e.name+a))})]})]})}},59010:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return ImageLoader}});var t=l(85893),i=l(25675),r=l.n(i),n=l(67294);function ImageLoader(e){let{src:a,alt:l,width:i,height:o,quality:s,className:d,style:c,id:p,mouseMove:u,mouseOut:m,click:f,priority:h}=e,[v,w]=(0,n.useState)(a),g="".concat("https://app.techplek.website","/images/placeholder.jpg");return(0,t.jsx)(r(),{src:v,alt:l||a||"",width:i||100,height:o||100,className:d||null,style:c||null,placeholder:i<40?"empty":"blur",blurDataURL:g,id:p||null,onMouseMove:u||null,onMouseOut:m||null,onClick:f||null,quality:s||null,priority:h||void 0,onLoadingComplete:e=>{0===e.naturalWidth&&w(g)},onError:()=>{w(g)}})}},20053:function(e){e.exports={fileUploadContainer:"fileUpload_fileUploadContainer___BSo_",inputLabel:"fileUpload_inputLabel__i7LfU",dragDropText:"fileUpload_dragDropText__yaae1",uploadFileBtn:"fileUpload_uploadFileBtn__3Pcgs",formField:"fileUpload_formField__bJMTx",filePreviewContainer:"fileUpload_filePreviewContainer__t_9ez",previewList:"fileUpload_previewList__IRASR",previewContainer:"fileUpload_previewContainer__59vD4",previewItem:"fileUpload_previewItem__cRikd",imagePreview:"fileUpload_imagePreview__g3evF",removeFileIcon:"fileUpload_removeFileIcon__gAH7O"}}}]);